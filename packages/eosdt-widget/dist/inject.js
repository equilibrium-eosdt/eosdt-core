!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=75)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(36),r={counter:0};n.autoIncrement=function(){return++r.counter},n.t=i.createLocaleTemplateFunction({}),n.setLocale=function(e,t){var r=Object.keys(e).reduce(function(n,t){return n.set(t,e[t])},new Map);n.t=t?i.createLocaleTemplateFunction({locale:r,extract:t}):i.createLocaleTemplateFunction({locale:r})}},,,function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},o=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u,c,l=t(0),p=s(t(17));n.default=function(e){var n=this,t=e.id,s=e.className,f=e.handler,d=e.validate,h=Array.isArray(e.fields)?e.fields.reduce(function(e,n){var t;return r({},e,((t={})[n]={decimals:2,label:""},t))},{}):e.fields;return{id:t,className:s,type:{state:{pending:!1,submitButton:p.default({name:l.t(u||(u=i(["OK"],["OK"]))),submit:!0,className:"equil-position-manage__button"}),validate:{},update:{}},onInit:function(e){return a(n,void 0,void 0,function(){var n=this;return o(this,function(t){if(!e.find())throw new Error("failed to render");return e.update({update:d?Object.keys(d).reduce(function(e,n){var t;return r({},e,((t={})[n]=function(e){return d[n](e.target.value)},t))},{}):{},validate:d?Object.keys(d).reduce(function(n,t){var i;return r({},n,((i={})[t]=function(n){var i=d[t](n.target.value);i&&e.update({error:i})},i))},{}):{},onSubmit:function(t){return a(n,void 0,void 0,function(){var n,i;return o(this,function(r){switch(r.label){case 0:t.preventDefault(),e.update({error:void 0,pending:!0}),t.target&&(n=new FormData(t.target)),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,f(n)];case 2:return r.sent(),e.update({pending:!1}),[3,4];case 3:return i=r.sent(),e.update({error:i.message,pending:!1}),[3,4];case 4:return[2]}})})}}),[2]})})},onUpdate:function(e,t){return a(n,void 0,void 0,function(){var n,i,r,a,s,u;return o(this,function(o){for(n=e.find(),i=e.state.onSubmit,e.state.error&&t.error&&e.update({error:void 0}),n&&i&&n.addEventListener("submit",i),r=0,a=Object.keys(h);r<a.length;r++)s=a[r],(u=e.find("input[name="+s+"]"))&&(e.state.validate[s]&&u.addEventListener("change",e.state.validate[s]),e.state.update[s]&&u.addEventListener("keyup",e.state.update[s]),!t.pending||e.state.pending||e.state.error||(u.value=""));return[2]})})},render:function(e,n){return n(c||(c=i(["\n","\n","\n","\n","\n"],["\n","\n","\n","\n","\n"])),e.pending?'<span class="equil-position-manage__pending">Loading...</span>':"",Object.keys(h).map(function(n){return'<div class="equil-position-manage__input-wrapper">\n    '+(h[n].label&&'<label class="equil-position-manage__input-label">'+h[n].label+"</label>")+'\n    <input class="equil-position-manage__input '+(e.error?"equil-position-manage__input--error":null)+'" placeholder="0.00" type="number" autocomplete="off" name="'+n+'" step="0.0001" />\n  </div>'}).join(""),e.error?'<span class="equil-position-manage__error">'+e.error+"</span>":"",e.submitButton)}},element:"form"}}},,,,function(e,n,t){"use strict";var i=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,r,a=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return o},r=this&&this.__spread||function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(i(arguments[n]));return e},a=this&&this.__values||function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}};Object.defineProperty(n,"__esModule",{value:!0});var o=t(30).RIPEMD160.hash,s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c=function(){for(var e=Array(256).fill(-1),n=0;n<s.length;++n)e[s.charCodeAt(n)]=n;return e}();var l,p=function(){for(var e=Array(256).fill(-1),n=0;n<u.length;++n)e[u.charCodeAt(n)]=n;return e["=".charCodeAt(0)]=0,e}();function f(e){return 0!=(128&e[e.length-1])}function d(e){for(var n=1,t=0;t<e.length;++t){var i=(255&~e[t])+n;e[t]=i,n=i>>8}}function h(e,n){for(var t=new Uint8Array(e),i=0;i<n.length;++i){var r=n.charCodeAt(i);if(r<"0".charCodeAt(0)||r>"9".charCodeAt(0))throw new Error("invalid number");for(var a=r-"0".charCodeAt(0),o=0;o<e;++o){var s=10*t[o]+a;t[o]=s,a=s>>8}if(a)throw new Error("number is out of range")}return t}function m(e,n){void 0===n&&(n=1);for(var t=Array(n).fill("0".charCodeAt(0)),i=e.length-1;i>=0;--i){for(var a=e[i],o=0;o<t.length;++o){var s=(t[o]-"0".charCodeAt(0)<<8)+a;t[o]="0".charCodeAt(0)+s%10,a=s/10|0}for(;a;)t.push("0".charCodeAt(0)+a%10),a=a/10|0}return t.reverse(),String.fromCharCode.apply(String,r(t))}function v(e,n){for(var t=new Uint8Array(e),i=0;i<n.length;++i){var r=c[n.charCodeAt(i)];if(r<0)throw new Error("invalid base-58 value");for(var a=0;a<e;++a){var o=58*t[a]+r;t[a]=o,r=o>>8}if(r)throw new Error("base-58 value is out of range")}return t.reverse(),t}function g(e,n){var t,i,o,u;void 0===n&&(n=1);var l=[];try{for(var p=a(e),f=p.next();!f.done;f=p.next()){for(var d=f.value,h=0;h<l.length;++h){var m=(c[l[h]]<<8)+d;l[h]=s.charCodeAt(m%58),d=m/58|0}for(;d;)l.push(s.charCodeAt(d%58)),d=d/58|0}}catch(e){t={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(t)throw t.error}}try{for(var v=a(e),g=v.next();!g.done;g=v.next()){if(g.value)break;l.push("1".charCodeAt(0))}}catch(e){o={error:e}}finally{try{g&&!g.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}return l.reverse(),String.fromCharCode.apply(String,r(l))}function _(e,n){for(var t=new Uint8Array(e.length+n.length),i=0;i<e.length;++i)t[i]=e[i];for(i=0;i<n.length;++i)t[e.length+i]=n.charCodeAt(i);return o(t)}function y(e,n,t,i){var r=v(t+4,e),a={type:n,data:new Uint8Array(r.buffer,0,t)},o=new Uint8Array(_(a.data,i));if(o[0]!==r[t+0]||o[1]!==r[t+1]||o[2]!==r[t+2]||o[3]!==r[t+3])throw new Error("checksum doesn't match");return a}function b(e,n,t){for(var i=new Uint8Array(_(e.data,n)),r=new Uint8Array(e.data.length+4),a=0;a<e.data.length;++a)r[a]=e.data[a];for(a=0;a<4;++a)r[a+e.data.length]=i[a];return t+g(r)}function w(e){if("string"!=typeof e)throw new Error("expected string containing public key");if("EOS"===e.substr(0,3)){for(var t=v(n.publicKeyDataSize+4,e.substr(3)),i={type:l.k1,data:new Uint8Array(n.publicKeyDataSize)},r=0;r<n.publicKeyDataSize;++r)i.data[r]=t[r];var a=new Uint8Array(o(i.data));if(a[0]!==t[n.publicKeyDataSize]||a[1]!==t[34]||a[2]!==t[35]||a[3]!==t[36])throw new Error("checksum doesn't match");return i}if("PUB_K1_"===e.substr(0,7))return y(e.substr(7),l.k1,n.publicKeyDataSize,"K1");if("PUB_R1_"===e.substr(0,7))return y(e.substr(7),l.r1,n.publicKeyDataSize,"R1");throw new Error("unrecognized public key format")}function x(e){if(e.type===l.k1&&e.data.length===n.publicKeyDataSize)return b(e,"K1","PUB_K1_");if(e.type===l.r1&&e.data.length===n.publicKeyDataSize)return b(e,"R1","PUB_R1_");throw new Error("unrecognized public key format")}function q(e){return"EOS"===e.substr(0,3)?x(w(e)):e}n.isNegative=f,n.negate=d,n.decimalToBinary=h,n.signedDecimalToBinary=function(e,n){var t="-"===n[0];t&&(n=n.substr(1));var i=h(e,n);if(t){if(d(i),!f(i))throw new Error("number is out of range")}else if(f(i))throw new Error("number is out of range");return i},n.binaryToDecimal=m,n.signedBinaryToDecimal=function(e,n){if(void 0===n&&(n=1),f(e)){var t=e.slice();return d(t),"-"+m(t,n)}return m(e,n)},n.base58ToBinary=v,n.binaryToBase58=g,n.base64ToBinary=function(e){var n=e.length;if(1==(3&n)&&"="===e[n-1]&&(n-=1),0!=(3&n))throw new Error("base-64 value is not padded correctly");var t=n>>2,i=3*t;n>0&&"="===e[n-1]&&("="===e[n-2]?i-=2:i-=1);for(var r=new Uint8Array(i),a=0;a<t;++a){var o=p[e.charCodeAt(4*a+0)],s=p[e.charCodeAt(4*a+1)],u=p[e.charCodeAt(4*a+2)],c=p[e.charCodeAt(4*a+3)];r[3*a+0]=o<<2|s>>4,3*a+1<i&&(r[3*a+1]=(15&s)<<4|u>>2),3*a+2<i&&(r[3*a+2]=(3&u)<<6|c)}return r},function(e){e[e.k1=0]="k1",e[e.r1=1]="r1"}(l=n.KeyType||(n.KeyType={})),n.publicKeyDataSize=33,n.privateKeyDataSize=32,n.signatureDataSize=65,n.stringToPublicKey=w,n.publicKeyToString=x,n.convertLegacyPublicKey=q,n.convertLegacyPublicKeys=function(e){return e.map(q)},n.stringToPrivateKey=function(e){if("string"!=typeof e)throw new Error("expected string containing private key");if("PVT_R1_"===e.substr(0,7))return y(e.substr(7),l.r1,n.privateKeyDataSize,"R1");throw new Error("unrecognized private key format")},n.privateKeyToString=function(e){if(e.type===l.r1)return b(e,"R1","PVT_R1_");throw new Error("unrecognized private key format")},n.stringToSignature=function(e){if("string"!=typeof e)throw new Error("expected string containing signature");if("SIG_K1_"===e.substr(0,7))return y(e.substr(7),l.k1,n.signatureDataSize,"K1");if("SIG_R1_"===e.substr(0,7))return y(e.substr(7),l.r1,n.signatureDataSize,"R1");throw new Error("unrecognized signature format")},n.signatureToString=function(e){if(e.type===l.k1)return b(e,"K1","SIG_K1_");if(e.type===l.r1)return b(e,"R1","SIG_R1_");throw new Error("unrecognized signature format")}},,function(e,n,t){"use strict";var i,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:function(e,n,t){return Function.prototype.apply.call(e,n,t)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,n,t,i){var r,a,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",n,t.listener?t.listener:t),a=e._events),o=a[n]),void 0===o)o=a[n]=t,++e._eventsCount;else if("function"==typeof o?o=a[n]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),(r=c(e))>0&&o.length>r&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=n,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function p(e,n,t){var i={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},r=function(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}.bind(i);return r.listener=t,i.wrapFn=r,r}function f(e,n,t){var i=e._events;if(void 0===i)return[];var r=i[n];return void 0===r?[]:"function"==typeof r?t?[r.listener||r]:[r]:t?function(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}(r):h(r,r.length)}function d(e){var n=this._events;if(void 0!==n){var t=n[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function h(e,n){for(var t=new Array(n),i=0;i<n;++i)t[i]=e[i];return t}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var n=[],t=1;t<arguments.length;t++)n.push(arguments[t]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=r[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,n);else{var c=u.length,l=h(u,c);for(t=0;t<c;++t)a(l[t],this,n)}return!0},s.prototype.addListener=function(e,n){return l(this,e,n,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,n){return l(this,e,n,!0)},s.prototype.once=function(e,n){if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);return this.on(e,p(this,e,n)),this},s.prototype.prependOnceListener=function(e,n){if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);return this.prependListener(e,p(this,e,n)),this},s.prototype.removeListener=function(e,n){var t,i,r,a,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=this._events))return this;if(void 0===(t=i[e]))return this;if(t===n||t.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,t.listener||n));else if("function"!=typeof t){for(r=-1,a=t.length-1;a>=0;a--)if(t[a]===n||t[a].listener===n){o=t[a].listener,r=a;break}if(r<0)return this;0===r?t.shift():function(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}(t,r),1===t.length&&(i[e]=t[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||n)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var n,t,i;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var r,a=Object.keys(t);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=t[e]))this.removeListener(e,n);else if(void 0!==n)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,n){return"function"==typeof e.listenerCount?e.listenerCount(n):d.call(e,n)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},,,,function(e,n,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},r=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,r,a=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return o},a=this&&this.__spread||function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(r(arguments[n]));return e},o=this&&this.__values||function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t(8),u=function(){return function(e){void 0===e&&(e={}),this.skippedBinaryExtension=!1,this.options=e}}();n.SerializerState=u;var c=function(){function e(e){var n=void 0===e?{}:e,t=n.textEncoder,i=n.textDecoder,r=n.array;this.readPos=0,this.array=r||new Uint8Array(1024),this.length=r?r.length:0,this.textEncoder=t||new TextEncoder,this.textDecoder=i||new TextDecoder("utf-8",{fatal:!0})}return e.prototype.reserve=function(e){if(!(this.length+e<=this.array.length)){for(var n=this.array.length;this.length+e>n;)n=Math.ceil(1.5*n);var t=new Uint8Array(n);t.set(this.array),this.array=t}},e.prototype.haveReadData=function(){return this.readPos<this.length},e.prototype.restartRead=function(){this.readPos=0},e.prototype.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},e.prototype.pushArray=function(e){this.reserve(e.length),this.array.set(e,this.length),this.length+=e.length},e.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.pushArray(e)},e.prototype.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},e.prototype.pushUint8ArrayChecked=function(e,n){if(e.length!==n)throw new Error("Binary data has incorrect size");this.pushArray(e)},e.prototype.getUint8Array=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");var n=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,e);return this.readPos+=e,n},e.prototype.pushUint16=function(e){this.push(e>>0&255,e>>8&255)},e.prototype.getUint16=function(){var e=0;return e|=this.get()<<0,e|=this.get()<<8},e.prototype.pushUint32=function(e){this.push(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},e.prototype.getUint32=function(){var e=0;return e|=this.get()<<0,e|=this.get()<<8,e|=this.get()<<16,(e|=this.get()<<24)>>>0},e.prototype.pushNumberAsUint64=function(e){this.pushUint32(e>>>0),this.pushUint32(Math.floor(e/4294967296)>>>0)},e.prototype.getUint64AsNumber=function(){var e=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(e>>>0)},e.prototype.pushVaruint32=function(e){for(;;){if(!(e>>>7)){this.push(e);break}this.push(128|127&e),e>>>=7}},e.prototype.getVaruint32=function(){for(var e=0,n=0;;){var t=this.get();if(e|=(127&t)<<n,n+=7,!(128&t))break}return e>>>0},e.prototype.pushVarint32=function(e){this.pushVaruint32(e<<1^e>>31)},e.prototype.getVarint32=function(){var e=this.getVaruint32();return 1&e?~e>>1|2147483648:e>>>1},e.prototype.pushFloat32=function(e){this.pushArray(new Uint8Array(new Float32Array([e]).buffer))},e.prototype.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},e.prototype.pushFloat64=function(e){this.pushArray(new Uint8Array(new Float64Array([e]).buffer))},e.prototype.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},e.prototype.pushName=function(e){if("string"!=typeof e)throw new Error("Expected string containing name");function n(e){return e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?e-"a".charCodeAt(0)+6:e>="1".charCodeAt(0)&&e<="5".charCodeAt(0)?e-"1".charCodeAt(0)+1:0}for(var t=new Uint8Array(8),i=63,r=0;r<e.length;++r){var a=n(e.charCodeAt(r));i<5&&(a<<=1);for(var o=4;o>=0;--o)i>=0&&(t[Math.floor(i/8)]|=(a>>o&1)<<i%8,--i)}this.pushArray(t)},e.prototype.getName=function(){for(var e=this.getUint8Array(8),n="",t=63;t>=0;){for(var i=0,r=0;r<5;++r)t>=0&&(i=i<<1|e[Math.floor(t/8)]>>t%8&1,--t);n+=i>=6?String.fromCharCode(i+"a".charCodeAt(0)-6):i>=1?String.fromCharCode(i+"1".charCodeAt(0)-1):"."}for(;n.endsWith(".");)n=n.substr(0,n.length-1);return n},e.prototype.pushBytes=function(e){this.pushVaruint32(e.length),this.pushArray(e)},e.prototype.getBytes=function(){return this.getUint8Array(this.getVaruint32())},e.prototype.pushString=function(e){this.pushBytes(this.textEncoder.encode(e))},e.prototype.getString=function(){return this.textDecoder.decode(this.getBytes())},e.prototype.pushSymbolCode=function(e){if("string"!=typeof e)throw new Error("Expected string containing symbol_code");var n=[];for(n.push.apply(n,a(this.textEncoder.encode(e)));n.length<8;)n.push(0);this.pushArray(n.slice(0,8))},e.prototype.getSymbolCode=function(){var e,n=this.getUint8Array(8);for(e=0;e<n.length&&n[e];++e);return this.textDecoder.decode(new Uint8Array(n.buffer,n.byteOffset,e))},e.prototype.pushSymbol=function(e){var n=e.name,t=[255&e.precision];for(t.push.apply(t,a(this.textEncoder.encode(n)));t.length<8;)t.push(0);this.pushArray(t.slice(0,8))},e.prototype.getSymbol=function(){var e,n=this.get(),t=this.getUint8Array(7);for(e=0;e<t.length&&t[e];++e);return{name:this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e)),precision:n}},e.prototype.pushAsset=function(e){if("string"!=typeof e)throw new Error("Expected string containing asset");var n=0,t="",i=0;"-"===(e=e.trim())[n]&&(t+="-",++n);for(var r=!1;n<e.length&&e.charCodeAt(n)>="0".charCodeAt(0)&&e.charCodeAt(n)<="9".charCodeAt(0);)r=!0,t+=e[n],++n;if(!r)throw new Error("Asset must begin with a number");if("."===e[n])for(++n;n<e.length&&e.charCodeAt(n)>="0".charCodeAt(0)&&e.charCodeAt(n)<="9".charCodeAt(0);)t+=e[n],++i,++n;var a=e.substr(n).trim();this.pushArray(s.signedDecimalToBinary(8,t)),this.pushSymbol({name:a,precision:i})},e.prototype.getAsset=function(){var e=this.getUint8Array(8),n=this.getSymbol(),t=n.name,i=n.precision,r=s.signedBinaryToDecimal(e,i+1);return i&&(r=r.substr(0,r.length-i)+"."+r.substr(r.length-i)),r+" "+t},e.prototype.pushPublicKey=function(e){var n=s.stringToPublicKey(e);this.push(n.type),this.pushArray(n.data)},e.prototype.getPublicKey=function(){var e=this.get(),n=this.getUint8Array(s.publicKeyDataSize);return s.publicKeyToString({type:e,data:n})},e.prototype.pushPrivateKey=function(e){var n=s.stringToPrivateKey(e);this.push(n.type),this.pushArray(n.data)},e.prototype.getPrivateKey=function(){var e=this.get(),n=this.getUint8Array(s.privateKeyDataSize);return s.privateKeyToString({type:e,data:n})},e.prototype.pushSignature=function(e){var n=s.stringToSignature(e);this.push(n.type),this.pushArray(n.data)},e.prototype.getSignature=function(){var e=this.get(),n=this.getUint8Array(s.signatureDataSize);return s.signatureToString({type:e,data:n})},e}();function l(e){var n=Date.parse(e);if(Number.isNaN(n))throw new Error("Invalid time format");return n}function p(e){return Math.round(1e3*l(e+"Z"))}function f(e){var n=new Date(e/1e3).toISOString();return n.substr(0,n.length-1)}function d(e){return Math.round(l(e+"Z")/1e3)}function h(e){var n=new Date(1e3*e).toISOString();return n.substr(0,n.length-1)}function m(e){return Math.round((l(e+"Z")-9466848e5)/500)}function v(e){var n=new Date(500*e+9466848e5).toISOString();return n.substr(0,n.length-1)}function g(e){if("string"!=typeof e)throw new Error("Expected string containing symbol");var n=e.match(/^([0-9]+),([A-Z]+)$/);if(!n)throw new Error("Invalid symbol");return{name:n[2],precision:+n[1]}}function _(e){var n=e.name;return e.precision+","+n}function y(e){var n,t,i="";try{for(var r=o(e),a=r.next();!a.done;a=r.next()){i+=("00"+a.value.toString(16)).slice(-2)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}return i.toUpperCase()}function b(e){if("string"!=typeof e)throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");for(var n=e.length/2,t=new Uint8Array(n),i=0;i<n;++i){var r=parseInt(e.substr(2*i,2),16);if(Number.isNaN(r))throw new Error("Expected hex string");t[i]=r}return t}function w(e,n){throw new Error("Don't know how to serialize "+this.name)}function x(e){throw new Error("Don't know how to deserialize "+this.name)}function q(e,n,t,i){var r,a;if(void 0===t&&(t=new u),void 0===i&&(i=!0),"object"!=typeof n)throw new Error("expected object containing data: "+JSON.stringify(n));this.base&&this.base.serialize(e,n,t,i);try{for(var s=o(this.fields),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.name in n){if(t.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+l.name);l.type.serialize(e,n[l.name],t,i&&l===this.fields[this.fields.length-1])}else{if(!i||!l.type.extensionOf)throw new Error("missing "+this.name+"."+l.name+" (type="+l.type.name+")");t.skippedBinaryExtension=!0}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}}function E(e,n,t){var i,r,a;void 0===n&&(n=new u),void 0===t&&(t=!0),a=this.base?this.base.deserialize(e,n,t):{};try{for(var s=o(this.fields),c=s.next();!c.done;c=s.next()){var l=c.value;t&&l.type.extensionOf&&!e.haveReadData()?n.skippedBinaryExtension=!0:a[l.name]=l.type.deserialize(e,n,t)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function S(e,n,t,i){if(!Array.isArray(n)||2!==n.length||"string"!=typeof n[0])throw new Error('expected variant: ["type", value]');var r=this.fields.findIndex(function(e){return e.name===n[0]});if(r<0)throw new Error('type "'+n[0]+'" is not valid for variant');e.pushVaruint32(r),this.fields[r].type.serialize(e,n[1],t,i)}function O(e,n,t){var i=e.getVaruint32();if(i>=this.fields.length)throw new Error("type index "+i+" is not valid for variant");var r=this.fields[i];return[r.name,r.type.deserialize(e,n,t)]}function N(e,n,t,i){var r,a;e.pushVaruint32(n.length);try{for(var s=o(n),u=s.next();!u.done;u=s.next()){var c=u.value;this.arrayOf.serialize(e,c,t,!1)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}}function T(e,n,t){for(var i=e.getVaruint32(),r=[],a=0;a<i;++a)r.push(this.arrayOf.deserialize(e,n,!1));return r}function A(e,n,t,i){null==n?e.push(0):(e.push(1),this.optionalOf.serialize(e,n,t,i))}function k(e,n,t){return e.get()?this.optionalOf.deserialize(e,n,t):null}function P(e,n,t,i){this.extensionOf.serialize(e,n,t,i)}function U(e,n,t){return this.extensionOf.deserialize(e,n,t)}function D(e){return i({name:"<missing name>",aliasOfName:"",arrayOf:null,optionalOf:null,extensionOf:null,baseName:"",base:null,fields:[],serialize:w,deserialize:x},e)}function z(e,n){if(Number.isNaN(+e)||Number.isNaN(+n)||"number"!=typeof e&&"string"!=typeof e)throw new Error("Expected number");if(+e!=+n)throw new Error("Number is out of range");return+e}function j(e,n){var t=e.get(n);if(t&&t.aliasOfName)return j(e,t.aliasOfName);if(t)return t;if(n.endsWith("[]"))return D({name:n,arrayOf:j(e,n.substr(0,n.length-2)),serialize:N,deserialize:T});if(n.endsWith("?"))return D({name:n,optionalOf:j(e,n.substr(0,n.length-1)),serialize:A,deserialize:k});if(n.endsWith("$"))return D({name:n,extensionOf:j(e,n.substr(0,n.length-1)),serialize:P,deserialize:U});throw new Error("Unknown type: "+n)}function M(e,n,t,i,r,a){var o=e.actions.get(t);if(!o)throw new Error("Unknown action "+t+" in contract "+n);var s=new c({textEncoder:r,textDecoder:a});return o.serialize(s,i),y(s.asUint8Array())}function C(e,n,t,i,r,a){var o=e.actions.get(t);if("string"==typeof i&&(i=b(i)),!o)throw new Error("Unknown action "+t+" in contract "+n);var s=new c({textDecoder:a,textEncoder:r});return s.pushArray(i),o.deserialize(s)}n.SerialBuffer=c,n.supportedAbiVersion=function(e){return e.startsWith("eosio::abi/1.")},n.dateToTimePoint=p,n.timePointToDate=f,n.dateToTimePointSec=d,n.timePointSecToDate=h,n.dateToBlockTimestamp=m,n.blockTimestampToDate=v,n.stringToSymbol=g,n.symbolToString=_,n.arrayToHex=y,n.hexToUint8Array=b,n.createInitialTypes=function(){var e=new Map(Object.entries({bool:D({name:"bool",serialize:function(e,n){if("boolean"!=typeof n)throw new Error("Expected true or false");e.push(n?1:0)},deserialize:function(e){return!!e.get()}}),uint8:D({name:"uint8",serialize:function(e,n){e.push(z(n,255&n))},deserialize:function(e){return e.get()}}),int8:D({name:"int8",serialize:function(e,n){e.push(z(n,n<<24>>24))},deserialize:function(e){return e.get()<<24>>24}}),uint16:D({name:"uint16",serialize:function(e,n){e.pushUint16(z(n,65535&n))},deserialize:function(e){return e.getUint16()}}),int16:D({name:"int16",serialize:function(e,n){e.pushUint16(z(n,n<<16>>16))},deserialize:function(e){return e.getUint16()<<16>>16}}),uint32:D({name:"uint32",serialize:function(e,n){e.pushUint32(z(n,n>>>0))},deserialize:function(e){return e.getUint32()}}),uint64:D({name:"uint64",serialize:function(e,n){e.pushArray(s.decimalToBinary(8,""+n))},deserialize:function(e){return s.binaryToDecimal(e.getUint8Array(8))}}),int64:D({name:"int64",serialize:function(e,n){e.pushArray(s.signedDecimalToBinary(8,""+n))},deserialize:function(e){return s.signedBinaryToDecimal(e.getUint8Array(8))}}),int32:D({name:"int32",serialize:function(e,n){e.pushUint32(z(n,0|n))},deserialize:function(e){return 0|e.getUint32()}}),varuint32:D({name:"varuint32",serialize:function(e,n){e.pushVaruint32(z(n,n>>>0))},deserialize:function(e){return e.getVaruint32()}}),varint32:D({name:"varint32",serialize:function(e,n){e.pushVarint32(z(n,0|n))},deserialize:function(e){return e.getVarint32()}}),uint128:D({name:"uint128",serialize:function(e,n){e.pushArray(s.decimalToBinary(16,""+n))},deserialize:function(e){return s.binaryToDecimal(e.getUint8Array(16))}}),int128:D({name:"int128",serialize:function(e,n){e.pushArray(s.signedDecimalToBinary(16,""+n))},deserialize:function(e){return s.signedBinaryToDecimal(e.getUint8Array(16))}}),float32:D({name:"float32",serialize:function(e,n){e.pushFloat32(n)},deserialize:function(e){return e.getFloat32()}}),float64:D({name:"float64",serialize:function(e,n){e.pushFloat64(n)},deserialize:function(e){return e.getFloat64()}}),float128:D({name:"float128",serialize:function(e,n){e.pushUint8ArrayChecked(b(n),16)},deserialize:function(e){return y(e.getUint8Array(16))}}),bytes:D({name:"bytes",serialize:function(e,n){n instanceof Uint8Array||Array.isArray(n)?e.pushBytes(n):e.pushBytes(b(n))},deserialize:function(e,n){return n&&n.options.bytesAsUint8Array?e.getBytes():y(e.getBytes())}}),string:D({name:"string",serialize:function(e,n){e.pushString(n)},deserialize:function(e){return e.getString()}}),name:D({name:"name",serialize:function(e,n){e.pushName(n)},deserialize:function(e){return e.getName()}}),time_point:D({name:"time_point",serialize:function(e,n){e.pushNumberAsUint64(p(n))},deserialize:function(e){return f(e.getUint64AsNumber())}}),time_point_sec:D({name:"time_point_sec",serialize:function(e,n){e.pushUint32(d(n))},deserialize:function(e){return h(e.getUint32())}}),block_timestamp_type:D({name:"block_timestamp_type",serialize:function(e,n){e.pushUint32(m(n))},deserialize:function(e){return v(e.getUint32())}}),symbol_code:D({name:"symbol_code",serialize:function(e,n){e.pushSymbolCode(n)},deserialize:function(e){return e.getSymbolCode()}}),symbol:D({name:"symbol",serialize:function(e,n){e.pushSymbol(g(n))},deserialize:function(e){return _(e.getSymbol())}}),asset:D({name:"asset",serialize:function(e,n){e.pushAsset(n)},deserialize:function(e){return e.getAsset()}}),checksum160:D({name:"checksum160",serialize:function(e,n){e.pushUint8ArrayChecked(b(n),20)},deserialize:function(e){return y(e.getUint8Array(20))}}),checksum256:D({name:"checksum256",serialize:function(e,n){e.pushUint8ArrayChecked(b(n),32)},deserialize:function(e){return y(e.getUint8Array(32))}}),checksum512:D({name:"checksum512",serialize:function(e,n){e.pushUint8ArrayChecked(b(n),64)},deserialize:function(e){return y(e.getUint8Array(64))}}),public_key:D({name:"public_key",serialize:function(e,n){e.pushPublicKey(n)},deserialize:function(e){return e.getPublicKey()}}),private_key:D({name:"private_key",serialize:function(e,n){e.pushPrivateKey(n)},deserialize:function(e){return e.getPrivateKey()}}),signature:D({name:"signature",serialize:function(e,n){e.pushSignature(n)},deserialize:function(e){return e.getSignature()}})}));return e.set("extended_asset",D({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:e.get("asset")},{name:"contract",typeName:"name",type:e.get("name")}],serialize:q,deserialize:E})),e},n.getType=j,n.getTypesFromAbi=function(e,n){var t,i,a,s,u,c,l,p,f,d,h=new Map(e);if(n.types)try{for(var m=o(n.types),v=m.next();!v.done;v=m.next()){var g=v.value,_=g.new_type_name,y=g.type;h.set(_,D({name:_,aliasOfName:y}))}}catch(e){t={error:e}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(t)throw t.error}}if(n.structs)try{for(var b=o(n.structs),w=b.next();!w.done;w=b.next()){var x=w.value,N=x.name,T=x.base,A=x.fields;h.set(N,D({name:N,baseName:T,fields:A.map(function(e){return{name:e.name,typeName:e.type,type:null}}),serialize:q,deserialize:E}))}}catch(e){a={error:e}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(n.variants)try{for(var k=o(n.variants),P=k.next();!P.done;P=k.next()){var U=P.value,z=U.name,M=U.types;h.set(z,D({name:z,fields:M.map(function(e){return{name:e,typeName:e,type:null}}),serialize:S,deserialize:O}))}}catch(e){u={error:e}}finally{try{P&&!P.done&&(c=k.return)&&c.call(k)}finally{if(u)throw u.error}}try{for(var C=o(h),F=C.next();!F.done;F=C.next()){var I=r(F.value,2);I[0],(y=I[1]).baseName&&(y.base=j(h,y.baseName));try{for(var B=o(y.fields),L=B.next();!L.done;L=B.next()){var R=L.value;R.type=j(h,R.typeName)}}catch(e){f={error:e}}finally{try{L&&!L.done&&(d=B.return)&&d.call(B)}finally{if(f)throw f.error}}}}catch(e){l={error:e}}finally{try{F&&!F.done&&(p=C.return)&&p.call(C)}finally{if(l)throw l.error}}return h},n.transactionHeader=function(e,n){return{expiration:h(d(e.timestamp)+n),ref_block_num:65535&e.block_num,ref_block_prefix:e.ref_block_prefix}},n.serializeActionData=M,n.serializeAction=function(e,n,t,i,r,a,o){return{account:n,name:t,authorization:i,data:M(e,n,t,r,a,o)}},n.deserializeActionData=C,n.deserializeAction=function(e,n,t,i,r,a,o){return{account:n,name:t,authorization:i,data:C(e,n,t,r,a,o)}}},function(e,n,t){"use strict";var i,r=this&&this.__extends||(i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function n(t){var i=this;return i=t.error&&t.error.details&&t.error.details.length&&t.error.details[0].message?e.call(this,t.error.details[0].message)||this:t.processed&&t.processed.except&&t.processed.except.message?e.call(this,t.processed.except.message)||this:e.call(this,t.message)||this,Object.setPrototypeOf(i,n.prototype),i.json=t,i}return r(n,e),n}(Error);n.RpcError=a},function(e,n,t){var i;!function(r){"use strict";var a,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,u=Math.ceil,c=Math.floor,l="[BigNumber Error] ",p=l+"Number primitive has more than 15 significant digits: ",f=1e14,d=14,h=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,g=1e9;function _(e){var n=0|e;return e>0||e===n?n:n-1}function y(e){for(var n,t,i=1,r=e.length,a=e[0]+"";i<r;){for(n=e[i++]+"",t=d-n.length;t--;n="0"+n);a+=n}for(r=a.length;48===a.charCodeAt(--r););return a.slice(0,r+1||1)}function b(e,n){var t,i,r=e.c,a=n.c,o=e.s,s=n.s,u=e.e,c=n.e;if(!o||!s)return null;if(t=r&&!r[0],i=a&&!a[0],t||i)return t?i?0:-s:o;if(o!=s)return o;if(t=o<0,i=u==c,!r||!a)return i?0:!r^t?1:-1;if(!i)return u>c^t?1:-1;for(s=(u=r.length)<(c=a.length)?u:c,o=0;o<s;o++)if(r[o]!=a[o])return r[o]>a[o]^t?1:-1;return u==c?0:u>c^t?1:-1}function w(e,n,t,i){if(e<n||e>t||e!==c(e))throw Error(l+(i||"Argument")+("number"==typeof e?e<n||e>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function x(e){var n=e.c.length-1;return _(e.e/d)==n&&e.c[n]%2!=0}function q(e,n){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(n<0?"e":"e+")+n}function E(e,n,t){var i,r;if(n<0){for(r=t+".";++n;r+=t);e=r+e}else if(++n>(i=e.length)){for(r=t,n-=i;--n;r+=t);e+=r}else n<i&&(e=e.slice(0,n)+"."+e.slice(n));return e}(a=function e(n){var t,i,r,a,S,O,N,T,A,k=G.prototype={constructor:G,toString:null,valueOf:null},P=new G(1),U=20,D=4,z=-7,j=21,M=-1e7,C=1e7,F=!1,I=1,B=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},R="0123456789abcdefghijklmnopqrstuvwxyz";function G(e,n){var t,a,s,u,l,f,m,v,g=this;if(!(g instanceof G))return new G(e,n);if(null==n){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>C?g.c=g.e=null:e.e<M?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,l=e;l>=10;l/=10,u++);return void(u>C?g.c=g.e=null:(g.e=u,g.c=[e]))}v=String(e)}else{if(!o.test(v=String(e)))return r(g,v,f);g.s=45==v.charCodeAt(0)?(v=v.slice(1),-1):1}(u=v.indexOf("."))>-1&&(v=v.replace(".","")),(l=v.search(/e/i))>0?(u<0&&(u=l),u+=+v.slice(l+1),v=v.substring(0,l)):u<0&&(u=v.length)}else{if(w(n,2,R.length,"Base"),10==n)return V(g=new G(e),U+g.e+1,D);if(v=String(e),f="number"==typeof e){if(0*e!=0)return r(g,v,f,n);if(g.s=1/e<0?(v=v.slice(1),-1):1,G.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(p+e)}else g.s=45===v.charCodeAt(0)?(v=v.slice(1),-1):1;for(t=R.slice(0,n),u=l=0,m=v.length;l<m;l++)if(t.indexOf(a=v.charAt(l))<0){if("."==a){if(l>u){u=m;continue}}else if(!s&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){s=!0,l=-1,u=0;continue}return r(g,String(e),f,n)}f=!1,(u=(v=i(v,n,10,g.s)).indexOf("."))>-1?v=v.replace(".",""):u=v.length}for(l=0;48===v.charCodeAt(l);l++);for(m=v.length;48===v.charCodeAt(--m););if(v=v.slice(l,++m)){if(m-=l,f&&G.DEBUG&&m>15&&(e>h||e!==c(e)))throw Error(p+g.s*e);if((u=u-l-1)>C)g.c=g.e=null;else if(u<M)g.c=[g.e=0];else{if(g.e=u,g.c=[],l=(u+1)%d,u<0&&(l+=d),l<m){for(l&&g.c.push(+v.slice(0,l)),m-=d;l<m;)g.c.push(+v.slice(l,l+=d));l=d-(v=v.slice(l)).length}else l-=m;for(;l--;v+="0");g.c.push(+v)}}else g.c=[g.e=0]}function K(e,n,t,i){var r,a,o,s,u;if(null==t?t=D:w(t,0,8),!e.c)return e.toString();if(r=e.c[0],o=e.e,null==n)u=y(e.c),u=1==i||2==i&&(o<=z||o>=j)?q(u,o):E(u,o,"0");else if(a=(e=V(new G(e),n,t)).e,s=(u=y(e.c)).length,1==i||2==i&&(n<=a||a<=z)){for(;s<n;u+="0",s++);u=q(u,a)}else if(n-=o,u=E(u,a,"0"),a+1>s){if(--n>0)for(u+=".";n--;u+="0");}else if((n+=a-s)>0)for(a+1==s&&(u+=".");n--;u+="0");return e.s<0&&r?"-"+u:u}function W(e,n){for(var t,i=1,r=new G(e[0]);i<e.length;i++){if(!(t=new G(e[i])).s){r=t;break}n.call(r,t)&&(r=t)}return r}function $(e,n,t){for(var i=1,r=n.length;!n[--r];n.pop());for(r=n[0];r>=10;r/=10,i++);return(t=i+t*d-1)>C?e.c=e.e=null:t<M?e.c=[e.e=0]:(e.e=t,e.c=n),e}function V(e,n,t,i){var r,a,o,s,l,p,h,v=e.c,g=m;if(v){e:{for(r=1,s=v[0];s>=10;s/=10,r++);if((a=n-r)<0)a+=d,o=n,h=(l=v[p=0])/g[r-o-1]%10|0;else if((p=u((a+1)/d))>=v.length){if(!i)break e;for(;v.length<=p;v.push(0));l=h=0,r=1,o=(a%=d)-d+1}else{for(l=s=v[p],r=1;s>=10;s/=10,r++);h=(o=(a%=d)-d+r)<0?0:l/g[r-o-1]%10|0}if(i=i||n<0||null!=v[p+1]||(o<0?l:l%g[r-o-1]),i=t<4?(h||i)&&(0==t||t==(e.s<0?3:2)):h>5||5==h&&(4==t||i||6==t&&(a>0?o>0?l/g[r-o]:0:v[p-1])%10&1||t==(e.s<0?8:7)),n<1||!v[0])return v.length=0,i?(n-=e.e+1,v[0]=g[(d-n%d)%d],e.e=-n||0):v[0]=e.e=0,e;if(0==a?(v.length=p,s=1,p--):(v.length=p+1,s=g[d-a],v[p]=o>0?c(l/g[r-o]%g[o])*s:0),i)for(;;){if(0==p){for(a=1,o=v[0];o>=10;o/=10,a++);for(o=v[0]+=s,s=1;o>=10;o/=10,s++);a!=s&&(e.e++,v[0]==f&&(v[0]=1));break}if(v[p]+=s,v[p]!=f)break;v[p--]=0,s=1}for(a=v.length;0===v[--a];v.pop());}e.e>C?e.c=e.e=null:e.e<M&&(e.c=[e.e=0])}return e}function J(e){var n,t=e.e;return null===t?e.toString():(n=y(e.c),n=t<=z||t>=j?q(n,t):E(n,t,"0"),e.s<0?"-"+n:n)}return G.clone=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(e){var n,t;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(n="DECIMAL_PLACES")&&(w(t=e[n],0,g,n),U=t),e.hasOwnProperty(n="ROUNDING_MODE")&&(w(t=e[n],0,8,n),D=t),e.hasOwnProperty(n="EXPONENTIAL_AT")&&((t=e[n])&&t.pop?(w(t[0],-g,0,n),w(t[1],0,g,n),z=t[0],j=t[1]):(w(t,-g,g,n),z=-(j=t<0?-t:t))),e.hasOwnProperty(n="RANGE"))if((t=e[n])&&t.pop)w(t[0],-g,-1,n),w(t[1],1,g,n),M=t[0],C=t[1];else{if(w(t,-g,g,n),!t)throw Error(l+n+" cannot be zero: "+t);M=-(C=t<0?-t:t)}if(e.hasOwnProperty(n="CRYPTO")){if((t=e[n])!==!!t)throw Error(l+n+" not true or false: "+t);if(t){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!t,Error(l+"crypto unavailable");F=t}else F=t}if(e.hasOwnProperty(n="MODULO_MODE")&&(w(t=e[n],0,9,n),I=t),e.hasOwnProperty(n="POW_PRECISION")&&(w(t=e[n],0,g,n),B=t),e.hasOwnProperty(n="FORMAT")){if("object"!=typeof(t=e[n]))throw Error(l+n+" not an object: "+t);L=t}if(e.hasOwnProperty(n="ALPHABET")){if("string"!=typeof(t=e[n])||/^.$|[+-.\s]|(.).*\1/.test(t))throw Error(l+n+" invalid: "+t);R=t}}return{DECIMAL_PLACES:U,ROUNDING_MODE:D,EXPONENTIAL_AT:[z,j],RANGE:[M,C],CRYPTO:F,MODULO_MODE:I,POW_PRECISION:B,FORMAT:L,ALPHABET:R}},G.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!G.DEBUG)return!0;var n,t,i=e.c,r=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===a||-1===a)&&r>=-g&&r<=g&&r===c(r)){if(0===i[0]){if(0===r&&1===i.length)return!0;break e}if((n=(r+1)%d)<1&&(n+=d),String(i[0]).length==n){for(n=0;n<i.length;n++)if((t=i[n])<0||t>=f||t!==c(t))break e;if(0!==t)return!0}}}else if(null===i&&null===r&&(null===a||1===a||-1===a))return!0;throw Error(l+"Invalid BigNumber: "+e)},G.maximum=G.max=function(){return W(arguments,k.lt)},G.minimum=G.min=function(){return W(arguments,k.gt)},G.random=(a=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var n,t,i,r,o,s=0,p=[],f=new G(P);if(null==e?e=U:w(e,0,g),r=u(e/d),F)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(r*=2));s<r;)(o=131072*n[s]+(n[s+1]>>>11))>=9e15?(t=crypto.getRandomValues(new Uint32Array(2)),n[s]=t[0],n[s+1]=t[1]):(p.push(o%1e14),s+=2);s=r/2}else{if(!crypto.randomBytes)throw F=!1,Error(l+"crypto unavailable");for(n=crypto.randomBytes(r*=7);s<r;)(o=281474976710656*(31&n[s])+1099511627776*n[s+1]+4294967296*n[s+2]+16777216*n[s+3]+(n[s+4]<<16)+(n[s+5]<<8)+n[s+6])>=9e15?crypto.randomBytes(7).copy(n,s):(p.push(o%1e14),s+=7);s=r/7}if(!F)for(;s<r;)(o=a())<9e15&&(p[s++]=o%1e14);for(r=p[--s],e%=d,r&&e&&(o=m[d-e],p[s]=c(r/o)*o);0===p[s];p.pop(),s--);if(s<0)p=[i=0];else{for(i=-1;0===p[0];p.splice(0,1),i-=d);for(s=1,o=p[0];o>=10;o/=10,s++);s<d&&(i-=d-s)}return f.e=i,f.c=p,f}),G.sum=function(){for(var e=1,n=arguments,t=new G(n[0]);e<n.length;)t=t.plus(n[e++]);return t},i=function(){function e(e,n,t,i){for(var r,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;o[a]*=n);for(o[0]+=i.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>t-1&&(null==o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/t|0,o[r]%=t)}return o.reverse()}return function(n,i,r,a,o){var s,u,c,l,p,f,d,h,m=n.indexOf("."),v=U,g=D;for(m>=0&&(l=B,B=0,n=n.replace(".",""),f=(h=new G(i)).pow(n.length-m),B=l,h.c=e(E(y(f.c),f.e,"0"),10,r,"0123456789"),h.e=h.c.length),c=l=(d=e(n,i,r,o?(s=R,"0123456789"):(s="0123456789",R))).length;0==d[--l];d.pop());if(!d[0])return s.charAt(0);if(m<0?--c:(f.c=d,f.e=c,f.s=a,d=(f=t(f,h,v,g,r)).c,p=f.r,c=f.e),m=d[u=c+v+1],l=r/2,p=p||u<0||null!=d[u+1],p=g<4?(null!=m||p)&&(0==g||g==(f.s<0?3:2)):m>l||m==l&&(4==g||p||6==g&&1&d[u-1]||g==(f.s<0?8:7)),u<1||!d[0])n=p?E(s.charAt(1),-v,s.charAt(0)):s.charAt(0);else{if(d.length=u,p)for(--r;++d[--u]>r;)d[u]=0,u||(++c,d=[1].concat(d));for(l=d.length;!d[--l];);for(m=0,n="";m<=l;n+=s.charAt(d[m++]));n=E(n,c,s.charAt(0))}return n}}(),t=function(){function e(e,n,t){var i,r,a,o,s=0,u=e.length,c=n%v,l=n/v|0;for(e=e.slice();u--;)s=((r=c*(a=e[u]%v)+(i=l*a+(o=e[u]/v|0)*c)%v*v+s)/t|0)+(i/v|0)+l*o,e[u]=r%t;return s&&(e=[s].concat(e)),e}function n(e,n,t,i){var r,a;if(t!=i)a=t>i?1:-1;else for(r=a=0;r<t;r++)if(e[r]!=n[r]){a=e[r]>n[r]?1:-1;break}return a}function t(e,n,t,i){for(var r=0;t--;)e[t]-=r,r=e[t]<n[t]?1:0,e[t]=r*i+e[t]-n[t];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,r,a,o,s){var u,l,p,h,m,v,g,y,b,w,x,q,E,S,O,N,T,A=i.s==r.s?1:-1,k=i.c,P=r.c;if(!(k&&k[0]&&P&&P[0]))return new G(i.s&&r.s&&(k?!P||k[0]!=P[0]:P)?k&&0==k[0]||!P?0*A:A/0:NaN);for(b=(y=new G(A)).c=[],A=a+(l=i.e-r.e)+1,s||(s=f,l=_(i.e/d)-_(r.e/d),A=A/d|0),p=0;P[p]==(k[p]||0);p++);if(P[p]>(k[p]||0)&&l--,A<0)b.push(1),h=!0;else{for(S=k.length,N=P.length,p=0,A+=2,(m=c(s/(P[0]+1)))>1&&(P=e(P,m,s),k=e(k,m,s),N=P.length,S=k.length),E=N,x=(w=k.slice(0,N)).length;x<N;w[x++]=0);T=P.slice(),T=[0].concat(T),O=P[0],P[1]>=s/2&&O++;do{if(m=0,(u=n(P,w,N,x))<0){if(q=w[0],N!=x&&(q=q*s+(w[1]||0)),(m=c(q/O))>1)for(m>=s&&(m=s-1),g=(v=e(P,m,s)).length,x=w.length;1==n(v,w,g,x);)m--,t(v,N<g?T:P,g,s),g=v.length,u=1;else 0==m&&(u=m=1),g=(v=P.slice()).length;if(g<x&&(v=[0].concat(v)),t(w,v,x,s),x=w.length,-1==u)for(;n(P,w,N,x)<1;)m++,t(w,N<x?T:P,x,s),x=w.length}else 0===u&&(m++,w=[0]);b[p++]=m,w[0]?w[x++]=k[E]||0:(w=[k[E]],x=1)}while((E++<S||null!=w[0])&&A--);h=null!=w[0],b[0]||b.splice(0,1)}if(s==f){for(p=1,A=b[0];A>=10;A/=10,p++);V(y,a+(y.e=p+l*d-1)+1,o,h)}else y.e=l,y.r=+h;return y}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,N=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,r=function(e,n,t,i){var r,a=t?n:n.replace(A,"");if(T.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!t&&(a=a.replace(S,function(e,n,t){return r="x"==(t=t.toLowerCase())?16:"b"==t?2:8,i&&i!=r?e:n}),i&&(r=i,a=a.replace(O,"$1").replace(N,"0.$1")),n!=a))return new G(a,r);if(G.DEBUG)throw Error(l+"Not a"+(i?" base "+i:"")+" number: "+n);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,n){return b(this,new G(e,n))},k.decimalPlaces=k.dp=function(e,n){var t,i,r,a=this;if(null!=e)return w(e,0,g),null==n?n=D:w(n,0,8),V(new G(a),e+a.e+1,n);if(!(t=a.c))return null;if(i=((r=t.length-1)-_(this.e/d))*d,r=t[r])for(;r%10==0;r/=10,i--);return i<0&&(i=0),i},k.dividedBy=k.div=function(e,n){return t(this,new G(e,n),U,D)},k.dividedToIntegerBy=k.idiv=function(e,n){return t(this,new G(e,n),0,1)},k.exponentiatedBy=k.pow=function(e,n){var t,i,r,a,o,s,p,f,h=this;if((e=new G(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+J(e));if(null!=n&&(n=new G(n)),o=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return f=new G(Math.pow(+J(h),o?2-x(e):+J(e))),n?f.mod(n):f;if(s=e.s<0,n){if(n.c?!n.c[0]:!n.s)return new G(NaN);(i=!s&&h.isInteger()&&n.isInteger())&&(h=h.mod(n))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||o&&h.c[1]>=24e7:h.c[0]<8e13||o&&h.c[0]<=9999975e7)))return a=h.s<0&&x(e)?-0:0,h.e>-1&&(a=1/a),new G(s?1/a:a);B&&(a=u(B/d+2))}for(o?(t=new G(.5),s&&(e.s=1),p=x(e)):p=(r=Math.abs(+J(e)))%2,f=new G(P);;){if(p){if(!(f=f.times(h)).c)break;a?f.c.length>a&&(f.c.length=a):i&&(f=f.mod(n))}if(r){if(0===(r=c(r/2)))break;p=r%2}else if(V(e=e.times(t),e.e+1,1),e.e>14)p=x(e);else{if(0==(r=+J(e)))break;p=r%2}h=h.times(h),a?h.c&&h.c.length>a&&(h.c.length=a):i&&(h=h.mod(n))}return i?f:(s&&(f=P.div(f)),n?f.mod(n):a?V(f,B,D,void 0):f)},k.integerValue=function(e){var n=new G(this);return null==e?e=D:w(e,0,8),V(n,n.e+1,e)},k.isEqualTo=k.eq=function(e,n){return 0===b(this,new G(e,n))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,n){return b(this,new G(e,n))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,n){return 1===(n=b(this,new G(e,n)))||0===n},k.isInteger=function(){return!!this.c&&_(this.e/d)>this.c.length-2},k.isLessThan=k.lt=function(e,n){return b(this,new G(e,n))<0},k.isLessThanOrEqualTo=k.lte=function(e,n){return-1===(n=b(this,new G(e,n)))||0===n},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,n){var t,i,r,a,o=this,s=o.s;if(n=(e=new G(e,n)).s,!s||!n)return new G(NaN);if(s!=n)return e.s=-n,o.plus(e);var u=o.e/d,c=e.e/d,l=o.c,p=e.c;if(!u||!c){if(!l||!p)return l?(e.s=-n,e):new G(p?o:NaN);if(!l[0]||!p[0])return p[0]?(e.s=-n,e):new G(l[0]?o:3==D?-0:0)}if(u=_(u),c=_(c),l=l.slice(),s=u-c){for((a=s<0)?(s=-s,r=l):(c=u,r=p),r.reverse(),n=s;n--;r.push(0));r.reverse()}else for(i=(a=(s=l.length)<(n=p.length))?s:n,s=n=0;n<i;n++)if(l[n]!=p[n]){a=l[n]<p[n];break}if(a&&(r=l,l=p,p=r,e.s=-e.s),(n=(i=p.length)-(t=l.length))>0)for(;n--;l[t++]=0);for(n=f-1;i>s;){if(l[--i]<p[i]){for(t=i;t&&!l[--t];l[t]=n);--l[t],l[i]+=f}l[i]-=p[i]}for(;0==l[0];l.splice(0,1),--c);return l[0]?$(e,l,c):(e.s=3==D?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,n){var i,r,a=this;return e=new G(e,n),!a.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||a.c&&!a.c[0]?new G(a):(9==I?(r=e.s,e.s=1,i=t(a,e,0,3),e.s=r,i.s*=r):i=t(a,e,0,I),(e=a.minus(i.times(e))).c[0]||1!=I||(e.s=a.s),e)},k.multipliedBy=k.times=function(e,n){var t,i,r,a,o,s,u,c,l,p,h,m,g,y,b,w=this,x=w.c,q=(e=new G(e,n)).c;if(!(x&&q&&x[0]&&q[0]))return!w.s||!e.s||x&&!x[0]&&!q||q&&!q[0]&&!x?e.c=e.e=e.s=null:(e.s*=w.s,x&&q?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=_(w.e/d)+_(e.e/d),e.s*=w.s,(u=x.length)<(p=q.length)&&(g=x,x=q,q=g,r=u,u=p,p=r),r=u+p,g=[];r--;g.push(0));for(y=f,b=v,r=p;--r>=0;){for(t=0,h=q[r]%b,m=q[r]/b|0,a=r+(o=u);a>r;)t=((c=h*(c=x[--o]%b)+(s=m*c+(l=x[o]/b|0)*h)%b*b+g[a]+t)/y|0)+(s/b|0)+m*l,g[a--]=c%y;g[a]=t}return t?++i:g.splice(0,1),$(e,g,i)},k.negated=function(){var e=new G(this);return e.s=-e.s||null,e},k.plus=function(e,n){var t,i=this,r=i.s;if(n=(e=new G(e,n)).s,!r||!n)return new G(NaN);if(r!=n)return e.s=-n,i.minus(e);var a=i.e/d,o=e.e/d,s=i.c,u=e.c;if(!a||!o){if(!s||!u)return new G(r/0);if(!s[0]||!u[0])return u[0]?e:new G(s[0]?i:0*r)}if(a=_(a),o=_(o),s=s.slice(),r=a-o){for(r>0?(o=a,t=u):(r=-r,t=s),t.reverse();r--;t.push(0));t.reverse()}for((r=s.length)-(n=u.length)<0&&(t=u,u=s,s=t,n=r),r=0;n;)r=(s[--n]=s[n]+u[n]+r)/f|0,s[n]=f===s[n]?0:s[n]%f;return r&&(s=[r].concat(s),++o),$(e,s,o)},k.precision=k.sd=function(e,n){var t,i,r,a=this;if(null!=e&&e!==!!e)return w(e,1,g),null==n?n=D:w(n,0,8),V(new G(a),e,n);if(!(t=a.c))return null;if(i=(r=t.length-1)*d+1,r=t[r]){for(;r%10==0;r/=10,i--);for(r=t[0];r>=10;r/=10,i++);}return e&&a.e+1>i&&(i=a.e+1),i},k.shiftedBy=function(e){return w(e,-h,h),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,n,i,r,a,o=this,s=o.c,u=o.s,c=o.e,l=U+4,p=new G("0.5");if(1!==u||!s||!s[0])return new G(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(u=Math.sqrt(+J(o)))||u==1/0?(((n=y(s)).length+c)%2==0&&(n+="0"),u=Math.sqrt(+n),c=_((c+1)/2)-(c<0||c%2),i=new G(n=u==1/0?"1e"+c:(n=u.toExponential()).slice(0,n.indexOf("e")+1)+c)):i=new G(u+""),i.c[0])for((u=(c=i.e)+l)<3&&(u=0);;)if(a=i,i=p.times(a.plus(t(o,a,l,1))),y(a.c).slice(0,u)===(n=y(i.c)).slice(0,u)){if(i.e<c&&--u,"9999"!=(n=n.slice(u-3,u+1))&&(r||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(V(i,i.e+U+2,1),e=!i.times(i).eq(o));break}if(!r&&(V(a,a.e+U+2,0),a.times(a).eq(o))){i=a;break}l+=4,u+=4,r=1}return V(i,i.e+U+1,D,e)},k.toExponential=function(e,n){return null!=e&&(w(e,0,g),e++),K(this,e,n,1)},k.toFixed=function(e,n){return null!=e&&(w(e,0,g),e=e+this.e+1),K(this,e,n)},k.toFormat=function(e,n,t){var i,r=this;if(null==t)null!=e&&n&&"object"==typeof n?(t=n,n=null):e&&"object"==typeof e?(t=e,e=n=null):t=L;else if("object"!=typeof t)throw Error(l+"Argument not an object: "+t);if(i=r.toFixed(e,n),r.c){var a,o=i.split("."),s=+t.groupSize,u=+t.secondaryGroupSize,c=t.groupSeparator||"",p=o[0],f=o[1],d=r.s<0,h=d?p.slice(1):p,m=h.length;if(u&&(a=s,s=u,u=a,m-=a),s>0&&m>0){for(a=m%s||s,p=h.substr(0,a);a<m;a+=s)p+=c+h.substr(a,s);u>0&&(p+=c+h.slice(a)),d&&(p="-"+p)}i=f?p+(t.decimalSeparator||"")+((u=+t.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(t.fractionGroupSeparator||"")):f):p}return(t.prefix||"")+i+(t.suffix||"")},k.toFraction=function(e){var n,i,r,a,o,s,u,c,p,f,h,v,g=this,_=g.c;if(null!=e&&(!(u=new G(e)).isInteger()&&(u.c||1!==u.s)||u.lt(P)))throw Error(l+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+J(u));if(!_)return new G(g);for(n=new G(P),p=i=new G(P),r=c=new G(P),v=y(_),o=n.e=v.length-g.e-1,n.c[0]=m[(s=o%d)<0?d+s:s],e=!e||u.comparedTo(n)>0?o>0?n:p:u,s=C,C=1/0,u=new G(v),c.c[0]=0;f=t(u,n,0,1),1!=(a=i.plus(f.times(r))).comparedTo(e);)i=r,r=a,p=c.plus(f.times(a=p)),c=a,n=u.minus(f.times(a=n)),u=a;return a=t(e.minus(i),r,0,1),c=c.plus(a.times(p)),i=i.plus(a.times(r)),c.s=p.s=g.s,h=t(p,r,o*=2,D).minus(g).abs().comparedTo(t(c,i,o,D).minus(g).abs())<1?[p,r]:[c,i],C=s,h},k.toNumber=function(){return+J(this)},k.toPrecision=function(e,n){return null!=e&&w(e,1,g),K(this,e,n,2)},k.toString=function(e){var n,t=this,r=t.s,a=t.e;return null===a?r?(n="Infinity",r<0&&(n="-"+n)):n="NaN":(null==e?n=a<=z||a>=j?q(y(t.c),a):E(y(t.c),a,"0"):10===e?n=E(y((t=V(new G(t),U+a+1,D)).c),t.e,"0"):(w(e,2,R.length,"Base"),n=i(E(y(t.c),a,"0"),10,e,r,!0)),r<0&&t.c[0]&&(n="-"+n)),n},k.valueOf=k.toJSON=function(){return J(this)},k._isBigNumber=!0,s&&(k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf),null!=n&&G.set(n),G}()).default=a.BigNumber=a,void 0===(i=function(){return a}.call(n,t,n,e))||(e.exports=i)}()},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o,s=t(0);n.default=function(e){var n=this,t=e.name,u=e.className,c=e.handler,l=e.submit;return{id:t,className:u,type:{state:{pending:!1,onClick:void 0},onInit:function(e){return r(n,void 0,void 0,function(){var n,t=this;return a(this,function(u){if(!(n=e.find()))throw new Error(s.t(o||(o=i(["failed to render"],["failed to render"]))));return l&&(n.type="submit"),c&&e.update({onClick:function(){return r(t,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return e.update({pending:!0}),[4,c()];case 1:return n.sent(),e.update({pending:!1}),[2]}})})}}),[2]})})},onUpdate:function(e){return r(n,void 0,void 0,function(){var n,t;return a(this,function(i){return n=e.state.onClick,(t=e.find())&&n&&t.addEventListener("click",n),[2]})})},render:function(e){return e.pending?"Loading...":t}},element:"button"}}},,,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(29);n.Api=i.Api;var r=t(33);n.ApiInterfaces=r;var a=t(34);n.JsonRpc=a.JsonRpc;var o=t(8);n.Numeric=o;var s=t(35);n.RpcInterfaces=s;var u=t(15);n.RpcError=u.RpcError;var c=t(14);n.Serialize=c},function(e,n,t){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=i(t(17));n.Button=r.default;var a=i(t(41));n.Tabs=a.default},function(e,n,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),o=r(t(51)),s=function(){function e(e,n,t){var i=this;this.id=a.autoIncrement(),this.ready=!1,this.children={},this.renderTemplate=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return e.reduce(function(e,t,r){var a=n[r];if(!a)return""+e+t;if("object"==typeof a){var o=a.id,s=a.type,u=a.element,c=a.className,l=u||"div",p=o+"-"+i.id;return c&&(p+=" "+a.className),i.children[o]||(i.children[o]={def:s}),""+e+t+"<"+l+' class="'+p+'"></'+l+">"}return""+e+t+a},"")};var r=n.state,o=n.onInit,s=n.onUpdate,u=n.render;this.ctx=t,this.element=e,this.state=r,this.lifecycle={onInit:o,onUpdate:s,render:u},this.init()}return e.prototype.readyCheck=function(){if(!this.ready)throw new Error("Widget is not ready")},e.prototype.updateChildren=function(n){void 0===n&&(n=!1);for(var t=0,r=Object.keys(this.children);t<r.length;t++){var a=r[t],o=this.children[a],s=o.def,u=o.widget,c=a+"-"+this.id,l=this.find("."+c);if(u){if(n)throw new Error("Widget should not be initialized");l&&u.attach(l)}else if(l){var p=this.ctx;this.children[a]=i({},this.children[a],{widget:new e(l,s,p)})}}},e.prototype.init=function(){var e=this,n=this.element,t=this.lifecycle,i=t.onInit,r=t.render,a=this.state;if(this.sig=new o.default,!n)throw new Error("No mounting node");n.innerHTML=r(a,this.renderTemplate),this.updateChildren(),i?i(this).then(function(){e.ready=!0,e.sig.emit()}).catch(function(t){n.innerHTML='<span class="equil-widget-error">'+t.message+"</span>",console.info("Error mounting node:",t.stack),e.sig.cancel(t)}):(this.ready=!0,this.sig.emit())},e.prototype.attach=function(e){this.readyCheck(),this.element=e,this.update({})},e.prototype.find=function(e){return this.element?e?this.element.querySelector(e):this.element:null},e.prototype.update=function(e){var n=this;void 0===e&&(e={}),this.sig.wait().then(function(){n.sig=new o.default;var t=n.lifecycle,r=t.render,a=t.onUpdate,s=i({},n.state);if(n.state=i({},s,e),n.element.innerHTML=r(n.state,n.renderTemplate),n.updateChildren(),a)return a(n,s)}).then(function(){n.sig.emit()}).catch(function(e){n.element.innerHTML='<span class="widget-error">'+e.message+"</span>",console.info("Error updating node:",e.stack),n.sig.cancel(e)})},e}();n.Widget=s},,,,function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this;Object.defineProperty(n,"__esModule",{value:!0});var u=t(22),c=t(10),l=t(0),p=o(t(38)),f=t(50);n.setStyles=f.setStyles;var d,h,m=t(24),v=o(t(52)),g={state:{loggedIn:!1},onInit:function(e){return r(s,void 0,void 0,function(){var n,t,r,o;return a(this,function(a){if(n=e.ctx,t=n.events,r=n.client,t.on("account",function(n){var t=n.loggedIn;e.update({loggedIn:t})}),!r)throw new Error(l.t(d||(d=i(["Missing EOS client"],["Missing EOS client"]))));return r.getAccount()&&(o=r.getAccount().name,e.update(null===o?{loggedIn:!1}:{loggedIn:!0})),[2]})})},render:function(e,n){return n(h||(h=i(["",""],["",""])),e.loggedIn?{id:"position",className:"equil-position-manage",type:p.default}:{id:"position-login",className:"equil-position-manage",type:v.default()})}},_={accountName:"",endpoint:""},y={events:new c.EventEmitter},b={iframeMode:!1,isReady:function(){return!!y.client},init:function(e,n,t){var i=this;b.iframeMode?(_.accountName=e,_.endpoint=n,window.addEventListener("message",function(e){return r(i,void 0,void 0,function(){var n,i,r;return a(this,function(a){switch(a.label){case 0:if(!e.data)return[3,5];a.label=1;case 1:return a.trys.push([1,4,,5]),n=JSON.parse(e.data),i=n.tx,r=n.opt,i?[4,t(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:return a.sent(),[3,5];case 5:return[2]}})})})):"null"===e||"undefined"===e?b.injectEOSClient({getAccount:function(){return{name:null}},rpc:new u.JsonRpc(n),api:{transact:function(e,n){return r(i,void 0,void 0,function(){return a(this,function(i){switch(i.label){case 0:return[4,t(e,n)];case 1:return[2,i.sent()]}})})}}}):b.injectEOSClient({getAccount:function(){return{name:e}},rpc:new u.JsonRpc(n),api:{transact:function(e,n){return r(i,void 0,void 0,function(){return a(this,function(i){switch(i.label){case 0:return[4,t(e,n)];case 1:return[2,i.sent()]}})})}}})},setLocale:l.setLocale,injectEOSClient:function(e){y.client=e},getContext:function(){return y},Widgets:{Position:function(e){if(!e)return null;return b.iframeMode?(e.innerHTML='<iframe src="https://cdn.eosdt.com/widget/iframe.html#'+_.accountName+"@"+_.endpoint+'"></iframe>',null):(f.setContainerStyle(e),new m.Widget(e,g,y))}}};n.default=b},function(e,n,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&(t[i[r]]=e[i[r]])}return t},s=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,r,a=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return o},u=this&&this.__spread||function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(s(arguments[n]));return e},c=this&&this.__values||function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}};Object.defineProperty(n,"__esModule",{value:!0});var l=t(14),p=t(31),f=t(32),d=function(){function e(e){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=e.rpc,this.authorityProvider=e.authorityProvider||e.rpc,this.abiProvider=e.abiProvider||e.rpc,this.signatureProvider=e.signatureProvider,this.chainId=e.chainId,this.textEncoder=e.textEncoder,this.textDecoder=e.textDecoder,this.abiTypes=l.getTypesFromAbi(l.createInitialTypes(),p),this.transactionTypes=l.getTypesFromAbi(l.createInitialTypes(),f)}return e.prototype.rawAbiToJson=function(e){var n=new l.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder,array:e});if(!l.supportedAbiVersion(n.getString()))throw new Error("Unsupported abi version");return n.restartRead(),this.abiTypes.get("abi_def").deserialize(n)},e.prototype.getCachedAbi=function(e,n){return void 0===n&&(n=!1),r(this,void 0,void 0,function(){var t,i,r,o;return a(this,function(a){switch(a.label){case 0:if(!n&&this.cachedAbis.get(e))return[2,this.cachedAbis.get(e)];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.abiProvider.getRawAbi(e)];case 2:return i=a.sent().abi,r=this.rawAbiToJson(i),t={rawAbi:i,abi:r},[3,4];case 3:throw(o=a.sent()).message="fetching abi for "+e+": "+o.message,o;case 4:if(!t)throw new Error("Missing abi for "+e);return this.cachedAbis.set(e,t),[2,t]}})})},e.prototype.getAbi=function(e,n){return void 0===n&&(n=!1),r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.getCachedAbi(e,n)];case 1:return[2,t.sent().abi]}})})},e.prototype.getTransactionAbis=function(e,n){return void 0===n&&(n=!1),r(this,void 0,void 0,function(){var t,i,o,s=this;return a(this,function(c){return t=e.actions.map(function(e){return e.account}),i=new Set(t),o=u(i).map(function(e){return r(s,void 0,void 0,function(){var t;return a(this,function(i){switch(i.label){case 0:return t={accountName:e},[4,this.getCachedAbi(e,n)];case 1:return[2,(t.abi=i.sent().rawAbi,t)]}})})}),[2,Promise.all(o)]})})},e.prototype.getContract=function(e,n){return void 0===n&&(n=!1),r(this,void 0,void 0,function(){var t,i,r,o,s,u,p,f,d,h,m;return a(this,function(a){switch(a.label){case 0:return!n&&this.contracts.get(e)?[2,this.contracts.get(e)]:[4,this.getAbi(e,n)];case 1:r=a.sent(),o=l.getTypesFromAbi(l.createInitialTypes(),r),s=new Map;try{for(u=c(r.actions),p=u.next();!p.done;p=u.next())f=p.value,d=f.name,h=f.type,s.set(d,l.getType(o,h))}catch(e){t={error:e}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return m={types:o,actions:s},this.contracts.set(e,m),[2,m]}})})},e.prototype.serialize=function(e,n,t){this.transactionTypes.get(n).serialize(e,t)},e.prototype.deserialize=function(e,n){return this.transactionTypes.get(n).deserialize(e)},e.prototype.serializeTransaction=function(e){var n=new l.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return this.serialize(n,"transaction",i({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},e)),n.asUint8Array()},e.prototype.deserializeTransaction=function(e){var n=new l.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return n.pushArray(e),this.deserialize(n,"transaction")},e.prototype.serializeActions=function(e){return r(this,void 0,void 0,function(){var n=this;return a(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){var t=e.account,i=e.name,o=e.authorization,s=e.data;return r(n,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,this.getContract(t)];case 1:return e=n.sent(),[2,l.serializeAction(e,t,i,o,s,this.textEncoder,this.textDecoder)]}})})}))];case 1:return[2,t.sent()]}})})},e.prototype.deserializeActions=function(e){return r(this,void 0,void 0,function(){var n=this;return a(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){var t=e.account,i=e.name,o=e.authorization,s=e.data;return r(n,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,this.getContract(t)];case 1:return e=n.sent(),[2,l.deserializeAction(e,t,i,o,s,this.textEncoder,this.textDecoder)]}})})}))];case 1:return[2,t.sent()]}})})},e.prototype.deserializeTransactionWithActions=function(e){return r(this,void 0,void 0,function(){var n,t;return a(this,function(r){switch(r.label){case 0:return"string"==typeof e&&(e=l.hexToUint8Array(e)),n=this.deserializeTransaction(e),[4,this.deserializeActions(n.actions)];case 1:return t=r.sent(),[2,i({},n,{actions:t})]}})})},e.prototype.transact=function(e,n){var t=void 0===n?{}:n,o=t.broadcast,s=void 0===o||o,u=t.sign,c=void 0===u||u,p=t.blocksBehind,f=t.expireSeconds;return r(this,void 0,void 0,function(){var n,t,r,o,u,d,h,m,v;return a(this,function(a){switch(a.label){case 0:return this.chainId?[3,2]:[4,this.rpc.get_info()];case 1:n=a.sent(),this.chainId=n.chain_id,a.label=2;case 2:return"number"==typeof p&&f?n?[3,4]:[4,this.rpc.get_info()]:[3,6];case 3:n=a.sent(),a.label=4;case 4:return[4,this.rpc.get_block(n.head_block_num-p)];case 5:t=a.sent(),e=i({},l.transactionHeader(t,f),e),a.label=6;case 6:if(!this.hasRequiredTaposFields(e))throw new Error("Required configuration or TAPOS fields are not present");return[4,this.getTransactionAbis(e)];case 7:return r=a.sent(),o=[{},e],u={},[4,this.serializeActions(e.actions)];case 8:return e=i.apply(void 0,o.concat([(u.actions=a.sent(),u)])),d=this.serializeTransaction(e),h={serializedTransaction:d,signatures:[]},c?[4,this.signatureProvider.getAvailableKeys()]:[3,12];case 9:return m=a.sent(),[4,this.authorityProvider.getRequiredKeys({transaction:e,availableKeys:m})];case 10:return v=a.sent(),[4,this.signatureProvider.sign({chainId:this.chainId,requiredKeys:v,serializedTransaction:d,abis:r})];case 11:h=a.sent(),a.label=12;case 12:return s?[2,this.pushSignedTransaction(h)]:[2,h]}})})},e.prototype.pushSignedTransaction=function(e){var n=e.signatures,t=e.serializedTransaction;return r(this,void 0,void 0,function(){return a(this,function(e){return[2,this.rpc.push_transaction({signatures:n,serializedTransaction:t})]})})},e.prototype.hasRequiredTaposFields=function(e){var n=e.expiration,t=e.ref_block_num,i=e.ref_block_prefix;o(e,["expiration","ref_block_num","ref_block_prefix"]);return!!(n&&t&&i)},e}();n.Api=d},function(e,n,t){"use strict";var i=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"get_n_pad_bytes",value:function(e){return 64-(e+8&63)}},{key:"pad",value:function(n){var t,r,a=n.byteLength,o=e.get_n_pad_bytes(a),s=(t=a,r=536870912,[Math.floor(t/r),t%r]).map(function(e,n){return n?8*e:e}),u=i(s,2),c=u[0],l=u[1],p=new Uint8Array(a+o+8);p.set(new Uint8Array(n),0);var f=new DataView(p.buffer);return f.setUint8(a,128),f.setUint32(a+o,l,!0),f.setUint32(a+o+4,c,!0),p.buffer}},{key:"f",value:function(e,n,t,i){return 0<=e&&e<=15?n^t^i:16<=e&&e<=31?n&t|~n&i:32<=e&&e<=47?(n|~t)^i:48<=e&&e<=63?n&i|t&~i:64<=e&&e<=79?n^(t|~i):void 0}},{key:"K",value:function(e){return 0<=e&&e<=15?0:16<=e&&e<=31?1518500249:32<=e&&e<=47?1859775393:48<=e&&e<=63?2400959708:64<=e&&e<=79?2840853838:void 0}},{key:"KP",value:function(e){return 0<=e&&e<=15?1352829926:16<=e&&e<=31?1548603684:32<=e&&e<=47?1836072691:48<=e&&e<=63?2053994217:64<=e&&e<=79?0:void 0}},{key:"add_modulo32",value:function(){return 0|Array.from(arguments).reduce(function(e,n){return e+n},0)}},{key:"rol32",value:function(e,n){return e<<n|e>>>32-n}},{key:"hash",value:function(n){for(var t=e.pad(n),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=t.byteLength/64,u=new Array(s).fill(void 0).map(function(e,n){return function(e){return new DataView(t,64*n,64).getUint32(4*e,!0)}}),c=[1732584193,4023233417,2562383102,271733878,3285377520],l=0;l<s;++l){for(var p=c[0],f=c[1],d=c[2],h=c[3],m=c[4],v=p,g=f,_=d,y=h,b=m,w=0;w<80;++w){var x=e.add_modulo32(e.rol32(e.add_modulo32(p,e.f(w,f,d,h),u[l](i[w]),e.K(w)),a[w]),m);p=m,m=h,h=e.rol32(d,10),d=f,f=x,x=e.add_modulo32(e.rol32(e.add_modulo32(v,e.f(79-w,g,_,y),u[l](r[w]),e.KP(w)),o[w]),b),v=b,b=y,y=e.rol32(_,10),_=g,g=x}var q=e.add_modulo32(c[1],d,y);c[1]=e.add_modulo32(c[2],h,b),c[2]=e.add_modulo32(c[3],m,v),c[3]=e.add_modulo32(c[4],p,g),c[4]=e.add_modulo32(c[0],f,_),c[0]=q}var E=new ArrayBuffer(20),S=new DataView(E);return c.forEach(function(e,n){return S.setUint32(4*n,e,!0)}),E}}]),e}();e.exports={RIPEMD160:a}},function(e){e.exports={version:"eosio::abi/1.1",structs:[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]}},function(e){e.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}]}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},function(e,n,t){"use strict";(function(e){var i=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},r=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__values||function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}};Object.defineProperty(n,"__esModule",{value:!0});var o=t(8),s=t(15);function u(e){var n,t,i="";try{for(var r=a(e),o=r.next();!o.done;o=r.next()){i+=("00"+o.value.toString(16)).slice(-2)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}return i}var c=function(){function n(n,t){void 0===t&&(t={}),this.endpoint=n,t.fetch?this.fetchBuiltin=t.fetch:this.fetchBuiltin=e.fetch}return n.prototype.fetch=function(e,n){return i(this,void 0,void 0,function(){var t,i,a;return r(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(0,this.fetchBuiltin)(this.endpoint+e,{body:JSON.stringify(n),method:"POST"})];case 1:return[4,(t=r.sent()).json()];case 2:if((i=r.sent()).processed&&i.processed.except)throw new s.RpcError(i);return[3,4];case 3:throw(a=r.sent()).isFetchError=!0,a;case 4:if(!t.ok)throw new s.RpcError(i);return[2,i]}})})},n.prototype.get_abi=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_abi",{account_name:e})];case 1:return[2,n.sent()]}})})},n.prototype.get_account=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_account",{account_name:e})];case 1:return[2,n.sent()]}})})},n.prototype.get_block_header_state=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:e})];case 1:return[2,n.sent()]}})})},n.prototype.get_block=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_block",{block_num_or_id:e})];case 1:return[2,n.sent()]}})})},n.prototype.get_code=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_code",{account_name:e})];case 1:return[2,n.sent()]}})})},n.prototype.get_currency_balance=function(e,n,t){return void 0===t&&(t=null),i(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,this.fetch("/v1/chain/get_currency_balance",{code:e,account:n,symbol:t})];case 1:return[2,i.sent()]}})})},n.prototype.get_currency_stats=function(e,n){return i(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_currency_stats",{code:e,symbol:n})];case 1:return[2,t.sent()]}})})},n.prototype.get_info=function(){return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_info",{})];case 1:return[2,e.sent()]}})})},n.prototype.get_producer_schedule=function(){return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_producer_schedule",{})];case 1:return[2,e.sent()]}})})},n.prototype.get_producers=function(e,n,t){return void 0===e&&(e=!0),void 0===n&&(n=""),void 0===t&&(t=50),i(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,this.fetch("/v1/chain/get_producers",{json:e,lower_bound:n,limit:t})];case 1:return[2,i.sent()]}})})},n.prototype.get_raw_code_and_abi=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:e})];case 1:return[2,n.sent()]}})})},n.prototype.getRawAbi=function(e){return i(this,void 0,void 0,function(){var n,t;return r(this,function(i){switch(i.label){case 0:return[4,this.get_raw_code_and_abi(e)];case 1:return n=i.sent(),t=o.base64ToBinary(n.abi),[2,{accountName:n.account_name,abi:t}]}})})},n.prototype.get_table_rows=function(e){var n=e.json,t=void 0===n||n,a=e.code,o=e.scope,s=e.table,u=e.table_key,c=void 0===u?"":u,l=e.lower_bound,p=void 0===l?"":l,f=e.upper_bound,d=void 0===f?"":f,h=e.index_position,m=void 0===h?1:h,v=e.key_type,g=void 0===v?"":v,_=e.limit,y=void 0===_?10:_,b=e.reverse,w=void 0!==b&&b,x=e.show_payer,q=void 0!==x&&x;return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_table_rows",{json:t,code:a,scope:o,table:s,table_key:c,lower_bound:p,upper_bound:d,index_position:m,key_type:g,limit:y,reverse:w,show_payer:q})];case 1:return[2,e.sent()]}})})},n.prototype.get_table_by_scope=function(e){var n=e.code,t=e.table,a=e.lower_bound,o=void 0===a?"":a,s=e.upper_bound,u=void 0===s?"":s,c=e.limit,l=void 0===c?10:c;return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_table_by_scope",{code:n,table:t,lower_bound:o,upper_bound:u,limit:l})];case 1:return[2,e.sent()]}})})},n.prototype.getRequiredKeys=function(e){return i(this,void 0,void 0,function(){var n;return r(this,function(t){switch(t.label){case 0:return n=o.convertLegacyPublicKeys,[4,this.fetch("/v1/chain/get_required_keys",{transaction:e.transaction,available_keys:e.availableKeys})];case 1:return[2,n.apply(void 0,[t.sent().required_keys])]}})})},n.prototype.push_transaction=function(e){var n=e.signatures,t=e.serializedTransaction;return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/push_transaction",{signatures:n,compression:0,packed_context_free_data:"",packed_trx:u(t)})];case 1:return[2,e.sent()]}})})},n.prototype.db_size_get=function(){return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/db_size/get",{})];case 1:return[2,e.sent()]}})})},n.prototype.history_get_actions=function(e,n,t){return void 0===n&&(n=null),void 0===t&&(t=null),i(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,this.fetch("/v1/history/get_actions",{account_name:e,pos:n,offset:t})];case 1:return[2,i.sent()]}})})},n.prototype.history_get_transaction=function(e,n){return void 0===n&&(n=null),i(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/history/get_transaction",{id:e,block_num_hint:n})];case 1:return[2,t.sent()]}})})},n.prototype.history_get_key_accounts=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/history/get_key_accounts",{public_key:e})];case 1:return[2,n.sent()]}})})},n.prototype.history_get_controlled_accounts=function(e){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:e})];case 1:return[2,n.sent()]}})})},n}();n.JsonRpc=c}).call(this,t(3))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(37))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createLocaleTemplateFunction=function(e){return function(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=n.join("${...}");e.extract&&e.extract.set(r,n);var a=n;return e.locale&&e.locale.has(r)&&(a=e.locale.get(r)),a.reduce(function(e,n,i){return t[i]?""+e+n+t[i]:""+e+n},"")}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this;Object.defineProperty(n,"__esModule",{value:!0});var u,c,l,p,f,d,h,m,v,g,_,y,b,w,x,q,E,S,O,N,T,A,k,P,U,D,z,j,M,C,F=t(39),I=t(0),B=t(23),L=o(t(42)),R=o(t(43)),G=o(t(44)),K=o(t(45)),W=o(t(46)),$=o(t(47)),V=o(t(48)),J=o(t(49)),H={state:{eos:0,eosdt:0,minLtv:1.7},onInit:function(e){return r(s,void 0,void 0,function(){var n,t,o,s,d,h,m,v,g,_,y,b,w,x,q,E,S,O,N,T,A,k,P,U,D,z,j=this;return a(this,function(M){switch(M.label){case 0:if(n=e.ctx,t=n.client,o=n.events,!(s=t.getAccount()))throw new Error(I.t(u||(u=i(["No account"],["No account"]))));return d=s,h=new F.PositionsContract(t),m=d.name,[4,h.getParameters()];case 1:return v=M.sent(),[4,h.getAllUserPositions(m)];case 2:return g=M.sent(),[4,h.getRates()];case 3:return _=M.sent(),[4,h.getSettings()];case 4:return y=M.sent(),[4,t.rpc.get_currency_balance("eosio.token","eosdtcntract","EOS")];case 5:return b=M.sent(),[4,t.rpc.get_currency_balance("eosio.token",""+d.name,"EOS")];case 6:return w=M.sent(),x=w?parseFloat(w[0]):0,q=_?parseFloat(_[0].rate):0,E=_?parseFloat(_[1].rate):0,[4,t.rpc.get_currency_balance("eosdtnutoken",""+d.name,"NUT")];case 7:return S=M.sent(),O=S.length?parseFloat(S[0]):0,[4,t.rpc.get_currency_balance("eosdtsttoken",""+d.name,"EOSDT")];case 8:return N=M.sent(),T=N.length?parseFloat(N[0]):0,A=function(e){if(!g||!v)return 0;var n=parseFloat(g[0].governance)*Number(v.governance_rate),t=parseFloat(g[0].outstanding)*Number(v.stability_rate),i=e*(n-t)/t;return t/Number(v.stability_rate)>Number(g[0].outstanding)&&(i=n-t),i/=Number(q)/Number(E)},k={id:"create-position",type:L.default({account:d,contract:h})},P={id:"parameters",className:"equil-position-parameters",type:R.default({getLtv:function(n,t){var i=n+e.state.eos,r=t+e.state.eosdt,a=e.state.rates.find(function(e){return e.rate.indexOf("USD")>=0});if(!a||!r)return 0;var o=i*parseFloat(a.rate);return 0!==r?o/r:0},getMinRate:function(n,t){var i=n+e.state.eos,r=t+e.state.eosdt;return e.state.minLtv*r/i},getMaxEos:function(n,t){var i=n+e.state.eos,r=t+e.state.eosdt,a=e.state,o=a.rates,s=a.minLtv,u=o.find(function(e){return e.rate.indexOf("USD")>=0});return u&&r?(i*parseFloat(u.rate)-r*s)/parseFloat(u.rate):0},getMaxEosdt:function(n,t){var i=n+e.state.eos,r=t+e.state.eosdt,a=e.state,o=a.rates,s=a.minLtv,u=o.find(function(e){return e.rate.indexOf("USD")>=0});return u&&r?(i*parseFloat(u.rate)-s*r)/s:0}})},U={id:"balances",className:"equil-user-balances",type:V.default({getUserBalanceEos:function(){return e.state.userBalanceEos||0},getUserBalanceEosdt:function(){return e.state.userBalanceEosdt||0},getUserBalanceNut:function(){return e.state.userBalanceNut||0},getRates:function(){return e.state.rates}})},D={id:"rates",className:"equil-rates",type:J.default({getRates:function(){return e.state.rates}})},z=B.Tabs({id:"tabs",className:"equil-position-manage__tab-container",onSelect:function(){return r(j,void 0,void 0,function(){return a(this,function(n){return e.ctx.events.emit("eos:update",0),[2]})})},tabs:[{id:"deposit",name:function(){return I.t(c||(c=i(["Pledge"],["Pledge"])))},type:G.default({account:d,contract:h,maxToDepositFunc:function(){return e.state.userBalanceEos}})},{id:"generate",name:function(){return I.t(l||(l=i(["Generate"],["Generate"])))},type:W.default({account:d,contract:h,maxToGenerateFunc:function(){return e.state.maxEosdt}})},{id:"payback",name:function(){return I.t(p||(p=i(["Payback"],["Payback"])))},type:$.default({account:d,contract:h,getNUTAmount:A,getUserBalanceEosdt:function(){return e.state.userBalanceEosdt||0},getUserBalanceNut:function(){return e.state.userBalanceNut||0},availableToPayback:function(){return e.state.eosdt}})},{id:"withdraw",name:function(){return I.t(f||(f=i(["Withdraw"],["Withdraw"])))},type:K.default({account:d,contract:h,maxToWithdrawFunc:function(){return e.state.maxEos}})}]}),e.update({createPosition:k,parameters:P,account:d,positions:g,contract:h,tabs:z,params:v,rates:_,settings:y,balance:b,userBalanceEos:x,userBalanceNut:O,userBalanceEosdt:T,getNUTAmount:A,userBalances:U,currencyRates:D}),o.on("position:created",function(){return r(j,void 0,void 0,function(){var n,i,r,o,s,u,c,l,p;return a(this,function(a){switch(a.label){case 0:return[4,h.getAllUserPositions(m)];case 1:return n=a.sent(),[4,h.getRates()];case 2:return i=a.sent(),[4,h.getParameters()];case 3:return r=a.sent(),[4,t.rpc.get_currency_balance("eosio.token",""+d.name,"EOS")];case 4:return o=a.sent(),s=o?parseFloat(o[0]):0,[4,t.rpc.get_currency_balance("eosdtnutoken",""+d.name,"NUT")];case 5:return u=a.sent(),c=u.length?parseFloat(u[0]):0,[4,t.rpc.get_currency_balance("eosdtsttoken",""+d.name,"EOSDT")];case 6:return l=a.sent(),p=l.length?parseFloat(l[0]):0,e.update({positions:n,rates:i,userBalanceEos:s,userBalanceNut:c,userBalanceEosdt:p,params:r}),[2]}})})}),o.on("transaction",function(){return r(j,void 0,void 0,function(){return a(this,function(e){return[2]})})}),setInterval(function(){!function(){r(this,void 0,void 0,function(){var n,t,i,r,o,s,u,c,l,p,f,d,g,_;return a(this,function(a){switch(a.label){case 0:return n=e.state.balance,t=e.state.params,[4,h.getAllUserPositions(m)];case 1:return i=a.sent(),r=t.stability_rate,o=t.eos_staked,i[0]?(s=i[0],u=s.outstanding,c=s.collateral,l=n?n[0]:"0",p=(parseFloat(l)+parseFloat(o))/parseFloat(v.total_collateral),f=parseFloat(c)*p,d=parseFloat(u)*parseFloat(r),e.state.eos===f&&e.state.eosdt===d?[3,3]:(g=i,[4,h.getParameters()])):[2];case 2:_=a.sent(),e.update({positions:g,params:_}),a.label=3;case 3:return[2]}})})}()},3e3),[2]}})})},onUpdate:function(e){return r(s,void 0,void 0,function(){var n,t,i,r,o,s,u,c,l,p,f,d,h,m,v,g,_,y,b,w,x,q,E,S,O;return a(this,function(a){return n=e.state,t=n.params,i=n.rates,r=n.settings,o=n.balance,s=n.positions,console.log("update"),(u=i.find(function(e){return e.rate.indexOf("USD")>=0}))?(c=t.stability_rate,l=t.eos_staked,s[0]?(p=s[0],f=p.outstanding,d=p.collateral,h=o?o[0]:"0",m=(parseFloat(h)+parseFloat(l))/parseFloat(t.total_collateral),v=parseFloat(d)*m,g=parseFloat(f)*parseFloat(c),_=v*parseFloat(u.rate),y=parseFloat(r.critical_ltv),b=0!==g?_/g:0,w=y*g/v,x=(_-g*y)/parseFloat(u.rate),q=(_-y*g)/y,b===e.state.ltv&&w===e.state.minRate&&x===e.state.maxEos&&q===e.state.maxEosdt&&g===e.state.eosdt&&v===e.state.eos&&y===e.state.minLtv||e.update({ltv:b,minRate:w,maxEos:x,maxEosdt:q,eosdt:g,eos:v,minLtv:y}),E=e.ctx.client,S=E.getAccount(),O=S,e.state.account&&O.name!==e.state.account.name&&e.update({account:O}),[2]):[2]):[2]})})},render:function(e,n){var t=e.params,r=e.account,a=e.positions,o=e.contract,s=e.rates,u=e.balance,c=e.eos,l=e.eosdt,p=e.createPosition,f=e.tabs;if(!r||!r.name)return I.t(v||(v=i(['\n      <div class="equil-position-manage__header">\n        <a\n          class="equil-position-manage__logo"\n          href="https://eosdt.com/"\n          target="_blank"\n        >\n          <img src="public/img/logo.svg" />\n        </a>\n        <a\n          class="equil-position-manage__telegram"\n          href="https://t.me/equilibrium_eosdt_official"\n          target="_blank"\n        >Join us in Telegram</a>\n      </div>\n      <div class="equil-position-manage__wrapper equil-position-manage__wrapper--loading">\n        <h2 class="equil-position-manage__title">\n          ','\n        </h2>\n        <h2 class="equil-position-manage__parametersTitle">Waiting for account...</h2>\n      </div>\n      <div class="equil-position-manage__balanceAndPrice">\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="equil-user-balances">\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOS</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOSDT.svg" alt="EOSDT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOSDT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>NUT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="rates-5 equil-rates">\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-rates__values">\n                  <span>EOS</span>\n                  <span>$0</span>\n              </div>\n            </div>\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-rates__values">\n                  <span>NUT</span>\n                  <span>$0</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      '],['\n      <div class="equil-position-manage__header">\n        <a\n          class="equil-position-manage__logo"\n          href="https://eosdt.com/"\n          target="_blank"\n        >\n          <img src="public/img/logo.svg" />\n        </a>\n        <a\n          class="equil-position-manage__telegram"\n          href="https://t.me/equilibrium_eosdt_official"\n          target="_blank"\n        >Join us in Telegram</a>\n      </div>\n      <div class="equil-position-manage__wrapper equil-position-manage__wrapper--loading">\n        <h2 class="equil-position-manage__title">\n          ','\n        </h2>\n        <h2 class="equil-position-manage__parametersTitle">Waiting for account...</h2>\n      </div>\n      <div class="equil-position-manage__balanceAndPrice">\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="equil-user-balances">\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOS</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOSDT.svg" alt="EOSDT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOSDT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>NUT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="rates-5 equil-rates">\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-rates__values">\n                  <span>EOS</span>\n                  <span>$0</span>\n              </div>\n            </div>\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-rates__values">\n                  <span>NUT</span>\n                  <span>$0</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      '])),I.t(d||(d=i(["Create position"],["Create position"]))),I.t(h||(h=i(["Balance"],["Balance"]))),I.t(m||(m=i(["Price"],["Price"]))));if(!o)return I.t(g||(g=i(['<h2 class="equil-position-manage__parametersTitle">Waiting for contract...</h2>'],['<h2 class="equil-position-manage__parametersTitle">Waiting for contract...</h2>'])));if(!t)return I.t(_||(_=i(['<h2 class="equil-position-manage__parametersTitle">Waiting for params...</h2>'],['<h2 class="equil-position-manage__parametersTitle">Waiting for params...</h2>'])));if(!s)return I.t(y||(y=i(['<h2 class="equil-position-manage__parametersTitle">Waiting for rates...</h2>'],['<h2 class="equil-position-manage__parametersTitle">Waiting for rates...</h2>'])));if(!u||!u[0])return I.t(b||(b=i(["Waiting for contract balance..."],["Waiting for contract balance..."])));if(!Array.isArray(a)||a.length<1)return p?n(T||(T=i(['\n          <div class="equil-position-manage__header">\n            <a\n              class="equil-position-manage__logo"\n              href="https://eosdt.com/"\n              target="_blank"\n            >\n              <img src="public/img/logo.svg" />\n            </a>\n            <a\n              class="equil-position-manage__telegram"\n              href="https://t.me/equilibrium_eosdt_official"\n              target="_blank"\n            >Join us in Telegram</a>\n          </div>\n          <div class="equil-position-manage__wrapper">\n            <div class="equil-position-actions">\n              <h2 class="equil-position-manage__title">\n                ',"\n              </h2>\n              ",'\n            </div>\n            <div class="equil-position-parameters equil-position-parameters--empty">\n              <h2 class="equil-position-manage__parametersTitle">','</h2>\n                <span class="equil-position-parameters__title">','</span>\n                <div class="equil-position-userParams" style="display:none">\n                  <div class="equil-position-userParams__param">\n                    <span class="equil-position-userParams__title">','</span>\n                    <span class="equil-position-userParams__number">',' EOS</span>\n                  </div>\n                  <div class="equil-position-userParams__param">\n                    <span class="equil-position-userParams__title">','</span>\n                    <span class="equil-position-userParams__number">14 EOSDT</span>\n                  </div>\n                </div>\n            </div>\n          </div>\n          <div class="equil-position-manage__balanceAndPrice">\n            <div class="equil-position-manage__wrapper">\n              <h2 class="equil-position-manage__title">\n                ',"\n              </h2>\n              ",'\n            </div>\n            <div class="equil-position-manage__wrapper">\n              <h2 class="equil-position-manage__title">\n                ',"\n              </h2>\n              ","\n            </div>\n          </div>\n      "],['\n          <div class="equil-position-manage__header">\n            <a\n              class="equil-position-manage__logo"\n              href="https://eosdt.com/"\n              target="_blank"\n            >\n              <img src="public/img/logo.svg" />\n            </a>\n            <a\n              class="equil-position-manage__telegram"\n              href="https://t.me/equilibrium_eosdt_official"\n              target="_blank"\n            >Join us in Telegram</a>\n          </div>\n          <div class="equil-position-manage__wrapper">\n            <div class="equil-position-actions">\n              <h2 class="equil-position-manage__title">\n                ',"\n              </h2>\n              ",'\n            </div>\n            <div class="equil-position-parameters equil-position-parameters--empty">\n              <h2 class="equil-position-manage__parametersTitle">','</h2>\n                <span class="equil-position-parameters__title">','</span>\n                <div class="equil-position-userParams" style="display:none">\n                  <div class="equil-position-userParams__param">\n                    <span class="equil-position-userParams__title">','</span>\n                    <span class="equil-position-userParams__number">',' EOS</span>\n                  </div>\n                  <div class="equil-position-userParams__param">\n                    <span class="equil-position-userParams__title">','</span>\n                    <span class="equil-position-userParams__number">14 EOSDT</span>\n                  </div>\n                </div>\n            </div>\n          </div>\n          <div class="equil-position-manage__balanceAndPrice">\n            <div class="equil-position-manage__wrapper">\n              <h2 class="equil-position-manage__title">\n                ',"\n              </h2>\n              ",'\n            </div>\n            <div class="equil-position-manage__wrapper">\n              <h2 class="equil-position-manage__title">\n                ',"\n              </h2>\n              ","\n            </div>\n          </div>\n      "])),I.t(w||(w=i(["Create position"],["Create position"]))),p,I.t(x||(x=i(["You don't have any positions yet"],["You don't have any positions yet"]))),I.t(q||(q=i(["Deposit collateral and generate <br/>EOSDT to get started"],["Deposit collateral and generate <br/>EOSDT to get started"]))),I.t(E||(E=i(["Available to deposit"],["Available to deposit"]))),e.userBalanceEos||"0.00",I.t(S||(S=i(["Max available to generate"],["Max available to generate"]))),I.t(O||(O=i(["Balance"],["Balance"]))),e.userBalances,I.t(N||(N=i(["Price"],["Price"]))),e.currencyRates):I.t(A||(A=i(["Loading..."],["Loading..."])));if(!s.find(function(e){return e.rate.indexOf("USD")>=0}))throw new Error(I.t(k||(k=i(["No USD rate"],["No USD rate"]))));return f?n(M||(M=i(['\n      <div class="equil-position-manage__header">\n        <a\n          class="equil-position-manage__logo"\n          href="https://eosdt.com/"\n          target="_blank"\n        >\n          <img src="public/img/logo.svg" />\n        </a>\n        <a\n          class="equil-position-manage__telegram"\n          href="https://t.me/equilibrium_eosdt_official"\n          target="_blank"\n        >Join us in Telegram</a>\n      </div>\n      <div class="equil-position-manage__wrapper">\n        <div class="equil-position-actions">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="equil-position-actions__labels">\n            <div class="equil-position-actions__label">\n              <span>','</span>\n              <span class="equil-position-actions__value">','</span>\n            </div>\n            <div class="equil-position-actions__label">\n              <span>','</span>\n              <span class="equil-position-actions__value">',"</span>\n            </div>\n          </div>\n          ","\n        </div>\n        ",'\n      </div>\n      <div class="equil-position-manage__balanceAndPrice">\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ',"\n          </h2>\n          ",'\n        </div>\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ',"\n          </h2>\n          ","\n        </div>\n"],['\n      <div class="equil-position-manage__header">\n        <a\n          class="equil-position-manage__logo"\n          href="https://eosdt.com/"\n          target="_blank"\n        >\n          <img src="public/img/logo.svg" />\n        </a>\n        <a\n          class="equil-position-manage__telegram"\n          href="https://t.me/equilibrium_eosdt_official"\n          target="_blank"\n        >Join us in Telegram</a>\n      </div>\n      <div class="equil-position-manage__wrapper">\n        <div class="equil-position-actions">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="equil-position-actions__labels">\n            <div class="equil-position-actions__label">\n              <span>','</span>\n              <span class="equil-position-actions__value">','</span>\n            </div>\n            <div class="equil-position-actions__label">\n              <span>','</span>\n              <span class="equil-position-actions__value">',"</span>\n            </div>\n          </div>\n          ","\n        </div>\n        ",'\n      </div>\n      <div class="equil-position-manage__balanceAndPrice">\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ',"\n          </h2>\n          ",'\n        </div>\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ',"\n          </h2>\n          ","\n        </div>\n"])),I.t(P||(P=i(['Manage position of <i class="equil-position-manage__username">',"</i>"],['Manage position of <i class="equil-position-manage__username">',"</i>"])),r.name),I.t(U||(U=i(["EOS<br/>collateralized"],["EOS<br/>collateralized"]))),c.toFixed(4),I.t(D||(D=i(["EOSDT<br/>generated"],["EOSDT<br/>generated"]))),l.toFixed(2),f,e.parameters,I.t(z||(z=i(["Balance"],["Balance"]))),e.userBalances,I.t(j||(j=i(["Price"],["Price"]))),e.currencyRates):I.t(C||(C=i(["Loading..."],["Loading..."])))}};n.default=H},function(e,n,t){"use strict";var i=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(t(16)),o=t(40);n.PositionsContract=class{constructor(e){this.rpc=e.rpc,this.api=e.api,this.contractName="eosdtcntract"}create(e,n,t){return i(this,void 0,void 0,function*(){n=o.toBigNumber(n);const i=o.toBigNumber(t).dp(4,1);return yield this.api.transact({actions:[{account:this.contractName,name:"positionadd",authorization:[{actor:e,permission:"active"}],data:{maker:e}},{account:"eosio.token",name:"transfer",authorization:[{actor:e,permission:"active"}],data:{from:e,to:this.contractName,quantity:`${n.toFixed(4)} EOS`,memo:`${i.toFixed(9)} EOSDT`}}]},{blocksBehind:3,expireSeconds:60})})}createEmptyPosition(e){return i(this,void 0,void 0,function*(){return yield this.api.transact({actions:[{account:this.contractName,name:"positionadd",authorization:[{actor:e,permission:"active"}],data:{maker:e}}]},{blocksBehind:3,expireSeconds:60})})}close(e,n){return i(this,void 0,void 0,function*(){return yield this.api.transact({actions:[{account:this.contractName,name:"close",authorization:[{actor:e,permission:"active"}],data:{position_id:n}}]},{blocksBehind:3,expireSeconds:60})})}del(e,n){return i(this,void 0,void 0,function*(){return yield this.api.transact({actions:[{account:this.contractName,name:"positiondel",authorization:[{actor:e,permission:"active"}],data:{position_id:n}}]},{blocksBehind:3,expireSeconds:60})})}give(e,n,t){return i(this,void 0,void 0,function*(){return yield this.api.transact({actions:[{account:this.contractName,name:"positiongive",authorization:[{actor:e,permission:"active"}],data:{position_id:t,to:n}}]},{blocksBehind:3,expireSeconds:60})})}addCollateral(e,n,t){return i(this,void 0,void 0,function*(){return n=o.toBigNumber(n),yield this.api.transact({actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:e,permission:"active"}],data:{to:this.contractName,from:e,maker:e,quantity:`${n.toFixed(4)} EOS`,memo:`position_id:${t}`}}]},{blocksBehind:3,expireSeconds:60})})}deleteCollateral(e,n,t){return i(this,void 0,void 0,function*(){return"string"!=typeof n&&"number"!=typeof n||(n=new a.default(n)),yield this.api.transact({actions:[{account:this.contractName,name:"colateraldel",authorization:[{actor:e,permission:"active"}],data:{position_id:t,collateral:`${n.toFixed(4)} EOS`}}]},{blocksBehind:3,expireSeconds:60})})}generateDebt(e,n,t){return i(this,void 0,void 0,function*(){const i=o.toBigNumber(n).dp(4,1);return yield this.api.transact({actions:[{account:this.contractName,name:"debtgenerate",authorization:[{actor:e,permission:"active"}],data:{debt:`${i.toFixed(9)} EOSDT`,position_id:t}}]},{blocksBehind:3,expireSeconds:60})})}burnbackDebt(e,n,t){return i(this,void 0,void 0,function*(){const i=o.toBigNumber(n).dp(4,1);return yield this.api.transact({actions:[{account:"eosdtsttoken",name:"transfer",authorization:[{actor:e,permission:"active"}],data:{to:this.contractName,from:e,maker:e,quantity:`${i.toFixed(9)} EOSDT`,memo:`position_id:${t}`}}]},{blocksBehind:3,expireSeconds:60})})}marginCall(e,n){return i(this,void 0,void 0,function*(){return yield this.api.transact({actions:[{account:this.contractName,name:"margincall",authorization:[{actor:e,permission:"active"}],data:{position_id:n}}]},{blocksBehind:3,expireSeconds:60})})}getContractEosAmount(){return i(this,void 0,void 0,function*(){const e=yield this.rpc.get_currency_balance("eosio.token","eosdtcntract","EOS");return o.balanceToNumber(e)})}getRates(){return i(this,void 0,void 0,function*(){return(yield this.rpc.get_table_rows({code:"eosdtorclize",scope:"eosdtorclize",table:"orarates",json:!0,limit:500})).rows})}getPositionById(e){return i(this,void 0,void 0,function*(){return(yield this.rpc.get_table_rows({code:this.contractName,scope:this.contractName,table:"positions",json:!0,limit:1,table_key:"position_id",lower_bound:e,upper_bound:e})).rows[0]})}getAllUserPositions(e){return i(this,void 0,void 0,function*(){return(yield this.rpc.get_table_rows({code:this.contractName,scope:this.contractName,table:"positions",json:!0,limit:100,table_key:"maker",index_position:"secondary",key_type:"name",lower_bound:e,upper_bound:e})).rows})}getParameters(){return i(this,void 0,void 0,function*(){return(yield this.rpc.get_table_rows({code:this.contractName,scope:this.contractName,table:"parameters",json:!0})).rows[0]})}getSettings(){return i(this,void 0,void 0,function*(){return(yield this.rpc.get_table_rows({code:this.contractName,scope:this.contractName,table:"ctrsettings",json:!0})).rows[0]})}}},function(e,n,t){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=i(t(16));n.toEosDate=function(e){return e.toISOString().slice(0,-5)},n.toBigNumber=function(e){return"string"==typeof e||"number"==typeof e?new r.default(e):e},n.balanceToNumber=function(e){if(Array.isArray(e)&&"string"==typeof e[0]){const n=e[0].match(/[0-9,\.]+/g);if(Array.isArray(n))return parseFloat(n[0]);throw new Error(`balanceToNumber(): balance string does not contain numbers. Arg: ${e}`)}throw new Error(`balanceToNumber(): recieved invalid balance argument. Arg array: ${e}`)}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o,s,u,c=t(0);n.default=function(e){var n=this,t=e.id,l=e.tabs,p=e.className,f=e.onSelect;return{id:t,type:{state:{tabIndex:0},onInit:function(e){return r(n,void 0,void 0,function(){return a(this,function(n){if(!l.every(function(n,t){var i=n.id,r=e.find("."+i+"-tab");return!!r&&(r.addEventListener("click",e.update.bind(e,{tabIndex:t})),!0)}))throw new Error("Not all tabs processed");return[2]})})},onUpdate:function(e,t){return r(n,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return t.tabIndex===e.state.tabIndex?[3,2]:[4,f()];case 1:n.sent(),n.label=2;case 2:if(!l.every(function(n,t){var i=n.id,r=e.find("."+i+"-tab");return!!r&&(r.addEventListener("click",e.update.bind(e,{tabIndex:t})),!0)}))throw new Error(c.t(o||(o=i(["Not all tabs processed"],["Not all tabs processed"]))));return[2]}})})},render:function(e,n){var t=l[e.tabIndex];return n(u||(u=i(['\n      <div class="equil-position-manage__tabs-wrapper">\n        \x3c!-- span>I want to </span --\x3e\n        <div class="equil-position-manage__dropdownMenu">\n          \x3c!-- div class="equil-position-manage__activeTab">\n          ','\n          </div --\x3e\n          <ul class="equil-position-manage__tabs">\n            ',"\n          </ul>\n        </div>\n      </div>\n  ","\n"],['\n      <div class="equil-position-manage__tabs-wrapper">\n        \x3c!-- span>I want to </span --\x3e\n        <div class="equil-position-manage__dropdownMenu">\n          \x3c!-- div class="equil-position-manage__activeTab">\n          ','\n          </div --\x3e\n          <ul class="equil-position-manage__tabs">\n            ',"\n          </ul>\n        </div>\n      </div>\n  ","\n"])),"",l.map(function(t,r){var a=t.id,o=t.name;return n(s||(s=i(['\n              <li class="',"",'-tab equil-position-manage__tab">\n                ',"\n              </li>\n          "],['\n              <li class="',"",'-tab equil-position-manage__tab">\n                ',"\n              </li>\n          "])),r===e.tabIndex?"equil-position-manage__tab--active ":"",a,"function"==typeof o?o():o)}).join(""),{id:t.id,type:t.type})}},className:p}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,u,c,l,p,f=t(0),d=o(t(4));n.default=function(e){var n=this,t=e.account,o=e.contract;return{state:{},onInit:function(e){return r(n,void 0,void 0,function(){var n,p=this;return a(this,function(h){return n=e.ctx.events,e.update({form:d.default({id:"create-position",className:"equil-position-manage__form",fields:{deposit:{decimals:4,label:f.t(s||(s=i(["I want to deposit EOS"],["I want to deposit EOS"])))},generate:{decimals:2,label:f.t(u||(u=i(["And generate EOSDT"],["And generate EOSDT"])))}},handler:function(e){return r(p,void 0,void 0,function(){var r,s,u;return a(this,function(a){switch(a.label){case 0:return e?(r=[Number(e.get("deposit")),Number(e.get("generate"))],s=r[0],u=r[1],Number.isFinite(s)&&s>0&&Number.isFinite(u)&&u>0?[4,o.create(t.name,s,u)]:[3,2]):[3,4];case 1:return a.sent(),n.emit("position:created"),[3,3];case 2:throw new Error(f.t(c||(c=i(["Wrong data"],["Wrong data"]))));case 3:return[3,5];case 4:throw new Error(f.t(l||(l=i(["No data"],["No data"]))));case 5:return[2]}})})}})}),[2]})})},render:function(e,n){return n(p||(p=i(["",""],["",""])),e.form)}}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o,s,u,c,l,p,f=t(0);n.default=function(e){var n=this,t=e.getLtv,d=e.getMinRate,h=e.getMaxEos,m=e.getMaxEosdt;return{state:{eos:0,eosdt:0},onInit:function(e){return r(n,void 0,void 0,function(){return a(this,function(n){return e.ctx.events.on("eos:update",function(n){return e.update({eos:n,eosdt:0})}),e.ctx.events.on("eosdt:update",function(n){return e.update({eosdt:n,eos:0})}),[2]})})},render:function(e,n){var r=e.eos,a=e.eosdt;return console.log({eos:r,eosdt:a}),n(p||(p=i(['\n        <h2 class="equil-position-manage__parametersTitle">\n        ','\n        </h2>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          ','%\n          </span>\n        </div>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          ','$\n          </span>\n        </div>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          ',' EOS\n          </span>\n        </div>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          '," EOSDT\n          </span>\n        </div>"],['\n        <h2 class="equil-position-manage__parametersTitle">\n        ','\n        </h2>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          ','%\n          </span>\n        </div>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          ','$\n          </span>\n        </div>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          ',' EOS\n          </span>\n        </div>\n\n        <div class="equil-position-parameters__item">\n          <span class="equil-position-parameters__title">\n          ','\n          </span>\n          <span class="equil-position-parameters__value">\n          '," EOSDT\n          </span>\n        </div>"])),f.t(o||(o=i(["Position parameters"],["Position parameters"]))),f.t(s||(s=i(["Collateralization ratio:"],["Collateralization ratio:"]))),100*t(r,a)<=999?(100*t(r,a)).toFixed():">999",f.t(u||(u=i(["Liquidation price of EOS:"],["Liquidation price of EOS:"]))),d(r,a).toFixed(2),f.t(c||(c=i(["Max EOS to withdraw:"],["Max EOS to withdraw:"]))),h(r,a).toFixed(4),f.t(l||(l=i(["Max EOSDT to generate:"],["Max EOSDT to generate:"]))),m(r,a).toFixed(2))}}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,u,c,l,p,f,d=t(0),h=o(t(4));n.default=function(e){var n=this,t=e.account,o=e.contract,m=e.maxToDepositFunc;return{state:{},onInit:function(e){return r(n,void 0,void 0,function(){var n=this;return a(this,function(f){return e.update({form:h.default({id:"deposit-eos",className:"equil-position-manage__form equil-position-manage__form--tab",fields:["amount"],notification:{title:"Additional collateral deposited",message:"Successfully executed"},validate:{amount:function(n){var t,r=m?m():0;if(Number(n)>1e8)t=d.t(s||(s=i(["Deposit amount cannot exceed 100000000."],["Deposit amount cannot exceed 100000000."])));else if(Number(n)>Number(r)){var a=r?Number(r).toFixed(4):0;t=d.t(u||(u=i(["Value should not exceed your balance of "," EOS"],["Value should not exceed your balance of "," EOS"])),a)}return e.ctx.events.emit("eos:update",t?0:Number(n)),t}},handler:function(s){return r(n,void 0,void 0,function(){var n,r;return a(this,function(a){switch(a.label){case 0:return s?[4,o.getAllUserPositions(t.name)]:[3,5];case 1:if(n=a.sent(),r=Number(s.get("amount")),!n.length)throw new Error(d.t(c||(c=i(["No position found"],["No position found"]))));return Number.isFinite(r)&&r>0?[4,o.addCollateral(t.name,r,n[0].position_id)]:[3,3];case 2:return a.sent(),e.ctx.events.emit("transaction"),[3,4];case 3:throw new Error(d.t(l||(l=i(["Wrong data"],["Wrong data"]))));case 4:return[3,6];case 5:throw new Error(d.t(p||(p=i(["No data"],["No data"]))));case 6:return[2]}})})}})}),[2]})})},render:function(e,n){return n(f||(f=i(["",""],["",""])),e.form)}}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,u,c,l,p,f,d=t(0),h=o(t(4));n.default=function(e){var n=this,t=e.account,o=e.contract,m=e.maxToWithdrawFunc;return{state:{},onInit:function(e){return r(n,void 0,void 0,function(){var n=this;return a(this,function(f){return e.update({form:h.default({id:"withdraw-eosdt",className:"equil-position-manage__form equil-position-manage__form--tab",fields:["amount"],notification:{title:"Excess collateral withdrawn",message:"Successfully executed"},validate:{amount:function(n){var t,r=m?m():0;if(Number(n)>Number(r)){var a=r?Number(r).toFixed(4):0;t=d.t(s||(s=i(["EOS amount withdrawn should not be more than ",""],["EOS amount withdrawn should not be more than ",""])),a)}else Number(n)>1e8&&(t=d.t(u||(u=i(["Withdraw amount cannot exceed 100000000."],["Withdraw amount cannot exceed 100000000."]))));return e.ctx.events.emit("eos:update",t?0:-Number(n)),t}},handler:function(s){return r(n,void 0,void 0,function(){var n,r;return a(this,function(a){switch(a.label){case 0:return s?[4,o.getAllUserPositions(t.name)]:[3,5];case 1:if(n=a.sent(),r=Number(s.get("amount")),!n.length)throw new Error(d.t(c||(c=i(["No position found"],["No position found"]))));return Number.isFinite(r)&&r>0?[4,o.deleteCollateral(t.name,r,n[0].position_id)]:[3,3];case 2:return a.sent(),e.ctx.events.emit("transaction"),[3,4];case 3:throw new Error(d.t(l||(l=i(["Wrong data"],["Wrong data"]))));case 4:return[3,6];case 5:throw new Error(d.t(p||(p=i(["No data"],["No data"]))));case 6:return[2]}})})}})}),[2]})})},render:function(e,n){return n(f||(f=i(["",""],["",""])),e.form)}}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,u,c,l,p=t(0),f=o(t(4));n.default=function(e){var n=this,t=e.account,o=e.contract,d=e.maxToGenerateFunc;return{state:{},onInit:function(e){return r(n,void 0,void 0,function(){var n=this;return a(this,function(l){return e.update({form:f.default({id:"generate-eosdt",className:"equil-position-manage__form equil-position-manage__form--tab",fields:["amount"],notification:{title:"Extra EOSDT generated",message:"Successfully executed"},validate:{amount:function(n){var t,r=d?d():0;if(Number(n)>1e8)t=p.t(s||(s=i(["Generate amount cannot exceed 100000000."],["Generate amount cannot exceed 100000000."])));else if(Number(n)>Number(r)){var a=r?Number(r).toFixed(4):0;t=p.t(u||(u=i(["Generate amount cannot exceed "," EOSDT"],["Generate amount cannot exceed "," EOSDT"])),a)}return e.ctx.events.emit("eosdt:update",t?0:Number(n)),t}},handler:function(s){return r(n,void 0,void 0,function(){var n,r;return a(this,function(a){switch(a.label){case 0:return s?[4,o.getAllUserPositions(t.name)]:[3,5];case 1:if(n=a.sent(),r=Number(s.get("amount")),!n.length)throw new Error(p.t(c||(c=i(["No position found"],["No position found"]))));return Number.isFinite(r)&&r>0?[4,o.generateDebt(t.name,r,n[0].position_id)]:[3,3];case 2:return a.sent(),e.ctx.events.emit("transaction"),[3,4];case 3:throw new Error("Wrong data");case 4:return[3,6];case 5:throw new Error("No data");case 6:return[2]}})})}})}),[2]})})},render:function(e,n){return n(l||(l=i(["",""],["",""])),e.form)}}}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,u,c,l,p,f,d,h=t(0),m=o(t(4));n.default=function(e){var n=this,t=e.account,o=e.contract,v=e.getUserBalanceEosdt,g=e.getUserBalanceNut,_=e.getNUTAmount,y=e.availableToPayback;return{state:{},onInit:function(e){return r(n,void 0,void 0,function(){var n=this;return a(this,function(d){return e.update({form:m.default({id:"payback-eosdt",className:"equil-position-manage__form equil-position-manage__form--tab",fields:["amount"],notification:{title:"Debt paid back",message:"Successfully executed"},validate:{amount:function(n){var t,r=_(n),a=v?v():0,o=g?g():0,p=y?y():0,f=(Math.ceil(1e4*r)/1e4).toFixed(4);if(Number(n)>Number(1e8))t=h.t(s||(s=i(["Payback amount cannot exceed 100000000."],["Payback amount cannot exceed 100000000."])));else if(Number(p)<=0&&Number(n)>0)t=h.t(u||(u=i(["There's nothing to payback"],["There's nothing to payback"])));else if(o<Number(f))t=h.t(c||(c=i(["Your NUT balance is less than ",""],["Your NUT balance is less than ",""])),f);else if(r>a){var d=a?a.toFixed(4):0;t=h.t(l||(l=i(["You can't payback more than ",""],["You can't payback more than ",""])),d)}return e.ctx.events.emit("eosdt:update",t?0:-Number(n)),t}},handler:function(s){return r(n,void 0,void 0,function(){var n,r;return a(this,function(a){switch(a.label){case 0:return s?[4,o.getAllUserPositions(t.name)]:[3,5];case 1:if(n=a.sent(),r=Number(s.get("amount")),!n.length)throw new Error("No position found");return Number.isFinite(r)&&r>0?[4,o.burnbackDebt(t.name,r,n[0].position_id)]:[3,3];case 2:return a.sent(),e.ctx.events.emit("transaction"),[3,4];case 3:throw new Error(h.t(p||(p=i(["Wrong data"],["Wrong data"]))));case 4:return[3,6];case 5:throw new Error(h.t(f||(f=i(["No data"],["No data"]))));case 6:return[2]}})})}})}),[2]})})},render:function(e,n){return n(d||(d=i(["",""],["",""])),e.form)}}}},function(e,n,t){"use strict";var i,r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},o=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return{state:{},onInit:function(e){return a(n,void 0,void 0,function(){return o(this,function(n){return setInterval(function(){e.update()},6e3),[2]})})},render:function(n,t){var a=e.getUserBalanceEos,o=e.getUserBalanceEosdt,s=e.getUserBalanceNut,u=e.getRates,c=a&&a(),l=o&&o(),p=s&&s(),f=u&&u();console.log(n);var d,h,m,v,g=function(e){void 0===e&&(e="");var n=e.match(/[0-9,\.]+/g);return null===n?0:Number(n[0])};return f.length&&(h=100*g(f[1].rate),d=g(f[0].rate),m=c?c*d:"0.00",v=p?p*h:"0.00"),t(i||(i=r(['\n      <div class="equil-user-balances__item">\n        <img class="equil-user-balances__img" src="public/img/EOS.svg" alt="EOS" />\n        <div class="equil-user-balances__values">\n          <div>\n            <span>EOS</span>\n            <span>','</span>\n          </div>\n          <div class="equil-user-balances__USDvalue">\n            <span>USD</span>\n            <span>$','</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="equil-user-balances__item">\n        <img class="equil-user-balances__img" src="public/img/NUT.svg" alt="NUT" />\n        <div class="equil-user-balances__values">\n          <div>\n            <span>NUT</span>\n            <span>','</span>\n          </div>\n          <div class="equil-user-balances__USDvalue">\n            <span>USD</span>\n            <span>$','</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="equil-user-balances__item">\n        <img class="equil-user-balances__img" src="public/img/EOSDT.svg" alt="EOSDT" />\n        <div class="equil-user-balances__values">\n          <div>\n            <span>EOSDT</span>\n            <span>','</span>\n          </div>\n          <div class="equil-user-balances__USDvalue">\n            <span>USD</span>\n            <span>$',"</span>\n          </div>\n        </div>\n      </div>\n      "],['\n      <div class="equil-user-balances__item">\n        <img class="equil-user-balances__img" src="public/img/EOS.svg" alt="EOS" />\n        <div class="equil-user-balances__values">\n          <div>\n            <span>EOS</span>\n            <span>','</span>\n          </div>\n          <div class="equil-user-balances__USDvalue">\n            <span>USD</span>\n            <span>$','</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="equil-user-balances__item">\n        <img class="equil-user-balances__img" src="public/img/NUT.svg" alt="NUT" />\n        <div class="equil-user-balances__values">\n          <div>\n            <span>NUT</span>\n            <span>','</span>\n          </div>\n          <div class="equil-user-balances__USDvalue">\n            <span>USD</span>\n            <span>$','</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="equil-user-balances__item">\n        <img class="equil-user-balances__img" src="public/img/EOSDT.svg" alt="EOSDT" />\n        <div class="equil-user-balances__values">\n          <div>\n            <span>EOSDT</span>\n            <span>','</span>\n          </div>\n          <div class="equil-user-balances__USDvalue">\n            <span>USD</span>\n            <span>$',"</span>\n          </div>\n        </div>\n      </div>\n      "])),Number(c).toFixed(4)||"0.00",Number(m).toFixed(2),Number(p).toFixed(4)||"0.00",Number(v).toFixed(2),Number(l).toFixed(2)||"0.00",Number(l).toFixed(2)||"0.00")}}}},function(e,n,t){"use strict";var i,r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},o=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return{state:{},onInit:function(e){return a(n,void 0,void 0,function(){return o(this,function(n){return setInterval(function(){return e.update()},6e4),[2]})})},render:function(n,t){var a=e.getRates,o=a&&a();console.log(n);var s,u,c=function(e){void 0===e&&(e="");var n=e.match(/[0-9,\.]+/g);return null===n?0:Number(n[0])};return o.length&&(u=(100*c(o[1].rate)).toFixed(2),s=c(o[0].rate).toFixed(2)),t(i||(i=r(['\n      <div class="equil-rates__item">\n        <img class="equil-rates__img" src="public/img/EOS.svg" alt="EOS" />\n        <div class="equil-rates__values">\n            <span>EOS</span>\n            <span>$','</span>\n        </div>\n      </div>\n\n      <div class="equil-rates__item">\n        <img class="equil-rates__img" src="public/img/NUT.svg" alt="NUT" />\n        <div class="equil-rates__values">\n            <span>NUT</span>\n            <span>$',"</span>\n        </div>\n      </div>\n      "],['\n      <div class="equil-rates__item">\n        <img class="equil-rates__img" src="public/img/EOS.svg" alt="EOS" />\n        <div class="equil-rates__values">\n            <span>EOS</span>\n            <span>$','</span>\n        </div>\n      </div>\n\n      <div class="equil-rates__item">\n        <img class="equil-rates__img" src="public/img/NUT.svg" alt="NUT" />\n        <div class="equil-rates__values">\n            <span>NUT</span>\n            <span>$',"</span>\n        </div>\n      </div>\n      "])),s||"0",u||"0")}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(0);n.setStyles=function(e){void 0===e&&(e={title:{color:"#333",font:"'Geometria-Heavy', serif"},text:{color:"#002446",font:"'Geometria', serif",boldFont:"'Geometria-Bold', serif"},button:{textColor:"#ffffff",font:"'Geometria-Bold', serif",background:"#1792ff"},background:{primary:"#ffffff",secondary:"#ecf6ff"}});var n=window.document.createElement("style");n.appendChild(window.document.createTextNode(function(e){return'\n\n  body {\n    margin: 0;\n    font-family: "Geometria";\n    font-size: 14px;\n    color: #002446;\n  }\n\n  div,\n  input,\n  p,\n  ul {\n    box-sizing: border-box;\n  }\n\n  h2 {\n    font-weight: 400;\n  }\n\n  @font-face {\n    font-family: Geometria;\n    src: url("public/fonts/Geometria.woff2") format("woff2"),\n      url("public/fonts/Geometria.woff") format("woff");\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: Geometria-Bold;\n    src: url("public/fonts/Geometria-Bold.woff2") format("woff2"),\n      url("public/fonts/Geometria-Bold.woff") format("woff");\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: Geometria-Heavy;\n    src: url("public/fonts/Geometria-Heavy.woff2") format("woff2"),\n      url("public/fonts/Geometria-Heavy.woff") format("woff");\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  .equil-position-manage {\n    display: flex;\n    justify-content: space-between;\n    min-height: 450px;\n    padding: 50px;\n    padding-top: 115px;\n    position: relative;\n    width: 100%;\n    background: white;\n  }\n\n  .equil-position-manage__header {\n    width: 100%;\n    height: 55px;\n    background: #1792FF;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-left: 50px;\n    padding-right: 50px;\n  }\n\n  .equil-position-manage__header a {\n    font-size: 16px;\n    line-height: 20px;\n    color: #FFFFFF;\n    text-decoration: none;\n    font-weight: bold;\n    font-family: \'Geometria-Bold\', serif;\n    position: relative;\n  }\n\n  .equil-position-manage__logo {\n    display: flex;\n    align-items: center;\n  }\n\n  .equil-position-manage__telegram::after {\n    content: "";\n\n    position: absolute;\n    top: -3px;\n    left: -34px;\n\n    width: 29px;\n    height: 24px;\n\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyOCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjYuMTA5NiAwLjE1NTI4MUwxLjMwNzE0IDkuNzIxNjRDLTAuMzg1NjY5IDEwLjQwMDggLTAuMzc1NjI5IDExLjM0NSAwLjk5ODU4NiAxMS43NjZMNy4xODQzOSAxMy42OTY3TDkuNTUxMjMgMjAuOTUzM0M5LjgzODk2IDIxLjc0NzUgOS42OTcxMiAyMi4wNjI1IDEwLjUzMTEgMjIuMDYyNUMxMS4xNzQ4IDIyLjA2MjUgMTEuNDYwMyAyMS43NjkgMTEuODE4OCAyMS40MTg5QzEyLjA0NjcgMjEuMTk1OCAxMy40MDAyIDE5Ljg3OTkgMTQuOTExNSAxOC40MTA1TDIxLjM0NTkgMjMuMTY0NUMyMi41Mjk5IDIzLjgxNzcgMjMuMzg0OCAyMy40NzkzIDIzLjY3OTcgMjIuMDY0OUwyNy45MDMzIDIuMTYxMjVDMjguMzM1OCAwLjQyNzU0NiAyNy4yNDI0IC0wLjM1ODg1MSAyNi4xMDk2IDAuMTU1MjgxWk04LjE1NTE4IDEzLjI1MzFMMjIuMDk4IDQuNDU2NTJDMjIuNzk0MSA0LjAzNDQgMjMuNDMyMyA0LjI2MTM1IDIyLjkwODMgNC43MjY0OEwxMC45Njk2IDE1LjQ5ODJMMTAuNTA0NyAyMC40NTYzTDguMTU1MTggMTMuMjUzMVYxMy4yNTMxWiIgZmlsbD0id2hpdGUiLz48L3N2Zz4=);\n  }\n\n  .equil-position-manage__header a:hover {\n    text-decoration: none;\n  }\n\n  .equil-position-manage__wrapper {\n    border: 1px solid #BEE1FF;\n    border-radius: 3px;\n    padding: 30px;\n    position: relative;\n    display: flex;\n    align-items: stretch;\n    justify-content: flex-start;\n    flex: 0 0 75%;\n    min-width: 620px;\n  }\n\n   .equil-position-manage__wrapper--loading {\n      align-items: center;\n      justify-content: center;\n   }\n\n  .equil-position-manage__balanceAndPrice {\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n    margin-left: 20px;\n    flex: 0 0 25%;\n  }\n\n  .equil-position-manage__balanceAndPrice .equil-position-manage__wrapper {\n    padding-left: 10px;\n    padding-right: 10px;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    min-width: 310px;\n    flex: 1 0 auto;\n    min-width: unset;\n  }\n\n  .equil-position-manage__balanceAndPrice .equil-position-manage__wrapper:first-of-type {\n    margin-bottom: 35px;\n  }\n\n  .equil-user-balances {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n\n  .equil-user-balances__item {\n    display: flex;\n    align-items: center;\n    padding-left: 6px;\n    padding-right: 15px;\n    width: 100%;\n    min-height: 50px;\n    justify-content: space-between;\n    border-bottom: 1px solid #BEE1FF;\n  }\n\n  .equil-user-balances__item:last-of-type {\n    border-bottom: none;\n  }\n\n  .equil-user-balances__img {\n    width: 19px;\n    height: 25px;\n    margin-right: 14px;\n  }\n\n  .equil-user-balances__values {\n    flex: 1 0 auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    min-height: 40px;\n  }\n\n  .equil-user-balances__values > div {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .equil-user-balances__USDvalue {\n    font-size: 12px;\n    line-height: 15px;\n    color: #33333380;\n  }\n\n  .equil-rates {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n\n  .equil-rates__item {\n    display: flex;\n    align-items: center;\n    padding-left: 6px;\n    padding-right: 15px;\n    width: 100%;\n    min-height: 50px;\n    justify-content: space-between;\n    border-bottom: 1px solid #BEE1FF;\n  }\n\n  .equil-rates__item:last-of-type {\n    border-bottom: none;\n  }\n\n  .equil-rates__img {\n    width: 19px;\n    height: 25px;\n    margin-right: 14px;\n  }\n\n  .equil-rates__values {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex: 1 0 auto;\n  }\n\n  .equil-position-parameters {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 20px;\n    padding-bottom: 15px;\n    background: '+e.background.secondary+";\n    flex: 0 0 280px;\n    border-radius: 3px;\n  }\n\n  .equil-position-parameters--empty {\n    justify-content: flex-start;\n  }\n\n  .equil-position-actions {\n    flex: 1 0 auto;\n    margin-right: 30px;\n    max-width: 320px;\n  }\n\n  .create-position-2,\n  .create-position-3,\n  .create-position-5 {\n    height: 100%;\n  }\n\n  .equil-position-actions__labels {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    max-width: 320px;\n    width: 100%;\n    margin-bottom: 30px;\n  }\n\n  .equil-position-actions__label {\n    height: 50px;\n    flex: 0 0 48%;\n    max-width: 48%;\n    font-size: 12px;\n    line-height: 15px;\n    color: "+e.text.color+";\n    background: "+e.background.secondary+";\n    border-radius: 4px;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px;\n  }\n\n  .equil-position-parameters__item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid #0024461a;\n    min-height: 29px;\n    width: 100%;\n  }\n\n  .equil-position-parameters__item:last-of-type {\n    border-bottom: 1px solid transparent;\n  }\n\n  .equil-position-parameters__title {\n    font-size: 12px;\n  }\n\n  .equil-position-parameters__value,\n  .equil-position-actions__value {\n    font-family: "+e.text.boldFont+";\n    font-size: 12px;\n  }\n\n  .equil-position-manage__parametersTitle {\n    font-family: "+e.title.font+";\n    color: #333;\n    font-size: 20px;\n    line-height: 25px;\n    margin-top: 0;\n    margin-bottom: 20px;\n  }\n\n\n  .equil-position-manage__title {\n    position: absolute;\n    top: -27px;\n    left: 0;\n\n    font-family: "+e.text.boldFont+";\n    font-size: 14px;\n    font-weight: bold;\n    color: #333;\n\n    margin: 0;\n  }\n\n  .equil-position-userParams {\n    margin-top: auto;\n    width: 100%;\n  }\n\n  .equil-position-userParams__param {\n   display: flex;\n   justify-content: space-between;\n  }\n\n  .equil-position-userParams__title {\n    font-size: 12px;\n    line-height: 15px;\n    color: #002446;\n   }\n\n   .equil-position-userParams__number {\n    font-size: 12px;\n    line-height: 15px;\n    font-family: Geometria-Bold;\n    color: #002446;\n   }\n\n\n  .equil-position-userParams__param:first-child {\n    padding-bottom: 8px;\n    border-bottom: 1px solid rgba(0,36,70,0.100);\n   }\n\n   .equil-position-userParams__param:last-child {\n    padding-top: 8px;\n   }\n\n  .equil-position-manage__username {\n  }\n\n  .equil-position-manage__tab-container {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  .equil-position-manage__tabs {\n    display: flex;\n    flex-flow: row nowrap;\n    list-style: none;\n    padding-left: 0px;\n    font-size: 16px;\n    margin-top: 0;\n  }\n\n  .equil-position-manage__tab {\n    border-bottom: 2px #fff solid;\n    cursor: pointer;\n    margin-right: 15px;\n    font-family: "+e.text.boldFont+";\n    color: "+e.text.color+";\n    opacity: 0.5;\n  }\n\n  .equil-position-manage__tab--active {\n    border-bottom: 2px #0024461a solid;\n    opacity: 1;\n  }\n\n  .equil-position-manage__error {\n    color: red;\n    position: absolute;\n    bottom: -25px;\n    font-size: 12px;\n    width: 120%;\n  }\n\n  .equil-position-manage__pending {\n    position: absolute;\n    bottom: -25px;\n  }\n\n  .equil-scatter-auth {\n    display: flex;\n  }\n\n  .scatter-auth-button {\n    height: 30px;\n    min-width: 50px;\n    border: 0;\n    font-size: 16px;\n    color: #333;\n    background: #ccc;\n  }\n\n  .equil-position-manage__form {\n    height: 100%;\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    justify-content: space-between;\n    min-height: 129px;\n  }\n\n  .equil-position-manage__input-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: space-between;\n    min-height: 61px;\n  }\n\n  .equil-position-manage__input-label {\n    font-family: "+e.text.boldFont+";\n    font-size: 12px;\n    line-height: 15px;\n    color: "+e.text.color+";\n  }\n\n  .equil-position-manage__form--tab .equil-position-manage__input-wrapper {\n    min-height: 40px;\n  }\n\n  .equil-position-manage__input {\n    border: 1px solid #0024461a;\n    height: 40px;\n    max-width: 320px;\n    padding-left: 12px;\n    width: 100%;\n    outline: none;\n    font-family: "+e.text.boldFont+";\n    font-size: 14px;\n    line-height: 18px;\n    color: "+e.text.color+";\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    display: none;\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n  input[type=number] {\n    -moz-appearance:textfield;\n}\n\n\n  .equil-position-manage__input--error {\n    border-color: red;\n  }\n\n  .equil-position-manage__button {\n    max-width: 320px;\n    width: 100%;\n    height: 40px;\n\n    border-radius: 4px;\n    border: none;\n\n    color: "+e.button.textColor+";\n    cursor: pointer;\n    font-size: 14px;\n    line-height: 18px;\n    font-family: "+e.button.font+";\n    background: "+e.button.background+";\n  }\n\n  .equil-position-manage__notification {\n    position: absolute;\n    top: 50px;\n    min-height: 70px;\n    width: 270px;\n    border-radius: 4px;\n    background: white;\n    border: 1px solid #1792FF;\n    padding: 15px;\n    padding-right: 5px;\n    color: #1792FF;\n  }\n\n  .equil-position-manage__notification div:first-child {\n    font-family: Geometria-Bold;\n    font-size: 16px;\n    line-height: 20px;\n    margin-bottom: 10px;\n  }\n\n  .equil-position-manage__notification div:last-child {\n    font-size: 12px;\n    line-height: 15px;\n  }\n\n\n  @media only screen and (max-width: 1023px) {\n\n    .equil-position-manage__balanceAndPrice {\n      display: none;\n    }\n\n    .equil-position-manage {\n      padding: 0;\n      padding-top: 55px;\n    }\n\n    .equil-position-manage__wrapper {\n      min-width: 100%;\n      border: unset;\n      flex-direction: column-reverse;\n      padding: 0;\n    }\n\n    .equil-position-actions {\n      margin-right: 0px;\n      margin-left: auto;\n      margin-right: auto;\n      padding: 20px;\n      padding-top: 53px;\n      padding-bottom: 40px;\n      width: 100%;\n      max-width: 767px;\n      position: relative;\n    }\n\n    .equil-position-parameters {\n      flex: 1 0 auto;\n      max-width: 767px;\n      margin-right: auto;\n      margin-left: auto;\n      width: 100%;\n     min-height: 190px;\n    }\n\n    .equil-position-manage__title {\n      top: 18px;\n      left: 20px;\n    }\n\n    .equil-position-manage__header {\n      padding-left: 20px;\n      padding-right: 20px;\n    }\n\n    .equil-position-manage__form {\n      min-height: 200px;\n    }\n\n    .equil-position-manage__form--tab {\n      min-height: 97px;\n    }\n\n    .equil-position-manage__error {\n      width: 100%;\n    }\n\n\n  }\n\n  @media only screen and (max-width: 767px) {\n    .equil-position-manage__tab {\n      font-size: 14px;\n      margin-right: 8px;\n    }\n\n    .equil-position-manage__telegram {\n      display: none;\n    }\n  }\n"}(e))),window.document.body.appendChild(n)},n.setContainerStyle=function(e){var n=e.id;n||(e.id=n="widget-"+i.autoIncrement());var t=window.document.createElement("style");t.appendChild(window.document.createTextNode(function(e){return"\n#"+e+" {\n  display: flex;\n  flex-flow: column nowrap;\n}\n"}(n))),window.document.body.appendChild(t)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){var e=this;this.wait=function(){return e.finished?e.error?Promise.reject(e.error):Promise.resolve(e.result):e.promise},this.emit=function(n){e.finished||(e.finished=!0,e.result=n,e.resolve(n))},this.cancel=function(n){e.finished||(e.finished=!0,e.error=n,e.reject(n))},this.finished=!1,this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})}}();n.default=i},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},r=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(r,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}u((i=i.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o,s,u,c,l=t(0);n.default=function(){var e=this;return{state:{},onInit:function(n){return r(e,void 0,void 0,function(){return a(this,function(e){return setInterval(function(){return n.update()},6e4),[2]})})},render:function(e,n){return n(c||(c=i(['\n      <div class="equil-position-manage__header">\n        <a\n          class="equil-position-manage__logo"\n          href="https://eosdt.com/"\n          target="_blank"\n        >\n          <img src="public/img/logo.svg" />\n        </a>\n        <a\n          class="equil-position-manage__telegram"\n          href="https://t.me/equilibrium_eosdt_official"\n          target="_blank"\n        >Join us in Telegram</a>\n      </div>\n      <div class="equil-position-manage__wrapper equil-position-manage__wrapper--loading">\n        <h2 class="equil-position-manage__title">\n          ','\n        </h2>\n        <h2 class="equil-position-manage__parametersTitle">Login to create position</h2>\n      </div>\n      <div class="equil-position-manage__balanceAndPrice">\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="equil-user-balances">\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOS</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOSDT.svg" alt="EOSDT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOSDT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>NUT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="rates-5 equil-rates">\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-rates__values">\n                  <span>EOS</span>\n                  <span>$0</span>\n              </div>\n            </div>\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-rates__values">\n                  <span>NUT</span>\n                  <span>$0</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      '],['\n      <div class="equil-position-manage__header">\n        <a\n          class="equil-position-manage__logo"\n          href="https://eosdt.com/"\n          target="_blank"\n        >\n          <img src="public/img/logo.svg" />\n        </a>\n        <a\n          class="equil-position-manage__telegram"\n          href="https://t.me/equilibrium_eosdt_official"\n          target="_blank"\n        >Join us in Telegram</a>\n      </div>\n      <div class="equil-position-manage__wrapper equil-position-manage__wrapper--loading">\n        <h2 class="equil-position-manage__title">\n          ','\n        </h2>\n        <h2 class="equil-position-manage__parametersTitle">Login to create position</h2>\n      </div>\n      <div class="equil-position-manage__balanceAndPrice">\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="equil-user-balances">\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOS</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/EOSDT.svg" alt="EOSDT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>EOSDT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="equil-user-balances__item">\n              <img class="equil-user-balances__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-user-balances__values">\n                <div>\n                  <span>NUT</span>\n                  <span>-</span>\n                </div>\n                <div class="equil-user-balances__USDvalue">\n                  <span>USD</span>\n                  <span>-</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="equil-position-manage__wrapper">\n          <h2 class="equil-position-manage__title">\n            ','\n          </h2>\n          <div class="rates-5 equil-rates">\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/EOS.svg" alt="EOS" />\n              <div class="equil-rates__values">\n                  <span>EOS</span>\n                  <span>$0</span>\n              </div>\n            </div>\n            <div class="equil-rates__item">\n              <img class="equil-rates__img" src="public/img/NUT.svg" alt="NUT" />\n              <div class="equil-rates__values">\n                  <span>NUT</span>\n                  <span>$0</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      '])),l.t(o||(o=i(["Create position"],["Create position"]))),l.t(s||(s=i(["Balance"],["Balance"]))),l.t(u||(u=i(["Price"],["Price"]))))}}}},,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var r=i(t(28));r.setStyles();var a=r.default.injectEOSClient.bind(null);r.default.injectEOSClient=function(e){a(e),window.dispatchEvent(new Event("equilibrium:ready"))},window.Equilibrium=r.default,window.dispatchEvent(new Event("equilibrium:loaded"))}]);